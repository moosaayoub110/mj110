(function(e){function i(i){for(var o,a,r=i[0],d=i[1],l=i[2],u=0,v=[];u<r.length;u++)a=r[u],n[a]&&v.push(n[a][0]),n[a]=0;for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(e[o]=d[o]);c&&c(i);while(v.length)v.shift()();return s.push.apply(s,l||[]),t()}function t(){for(var e,i=0;i<s.length;i++){for(var t=s[i],o=!0,r=1;r<t.length;r++){var d=t[r];0!==n[d]&&(o=!1)}o&&(s.splice(i--,1),e=a(a.s=t[0]))}return e}var o={},n={app:0},s=[];function a(i){if(o[i])return o[i].exports;var t=o[i]={i:i,l:!1,exports:{}};return e[i].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=o,a.d=function(e,i,t){a.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,i){if(1&i&&(e=a(e)),8&i)return e;if(4&i&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var o in e)a.d(t,o,function(i){return e[i]}.bind(null,o));return t},a.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(i,"a",i),i},a.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=i,r=r.slice();for(var l=0;l<r.length;l++)i(r[l]);var c=d;s.push([0,"chunk-vendors"]),t()})({0:function(e,i,t){e.exports=t("56d7")},"56d7":function(e,i,t){"use strict";t.r(i);t("c5f6"),t("ac6a"),t("386d"),t("28a5"),t("cadf"),t("551c"),t("097d");var o=t("2b0e"),n=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{attrs:{id:"app"}},[e.loadingSpinner.show?t("si-spinner"):e._e(),e.ready?t("video-player",{attrs:{video:e.video,type:e.type,thumbnails:e.thumbnails}}):e._e()],1)},s=[],a=(t("7f7f"),{debug:!1,analytics:{ga:{id:null,category:"Videos"}},video:{ci:"",id:null,ad:{tag:"https://pubads.g.doubleclick.net/gampad/ads?sz=150x150&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=&nofb=1&ad_rules=0",iu:null,cust_params:null,t:null},props:{src:null},size:{height:315,width:560},sb:{site_id:null,playslist_id:null,video_id:null,playlist_order:null,thumbnails:!1},type:"video",playlist:[],visible:!0}}),r=a,d=t("c665"),l=t("aa9a"),c=(t("10ad"),new WeakMap),u=new(function(){function e(){Object(d["a"])(this,e),c.set(this,{spinner:{show:!1}})}return Object(l["a"])(e,[{key:"hide",value:function(){c.get(this).spinner.show=!1}},{key:"show",value:function(){c.get(this).spinner.show=!0}},{key:"spinner",get:function(){return c.get(this).spinner}}]),e}()),v=function(){var e=this,i=e.$createElement;e._self._c;return e._m(0)},p=[function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"spinner"},[t("div",{staticClass:"sk-fading-circle"},[t("div",{staticClass:"sk-circle1 sk-circle"}),t("div",{staticClass:"sk-circle2 sk-circle"}),t("div",{staticClass:"sk-circle3 sk-circle"}),t("div",{staticClass:"sk-circle4 sk-circle"}),t("div",{staticClass:"sk-circle5 sk-circle"}),t("div",{staticClass:"sk-circle6 sk-circle"}),t("div",{staticClass:"sk-circle7 sk-circle"}),t("div",{staticClass:"sk-circle8 sk-circle"}),t("div",{staticClass:"sk-circle9 sk-circle"}),t("div",{staticClass:"sk-circle10 sk-circle"}),t("div",{staticClass:"sk-circle11 sk-circle"}),t("div",{staticClass:"sk-circle12 sk-circle"})])])}],h={name:"Spinner"},m=h,f=t("2877"),y=Object(f["a"])(m,v,p,!1,null,null,null);y.options.__file="Spinner.vue";var g=y.exports,_=function(){var e=this,i=e.$createElement,t=e._self._c||i;return e.video?t("div",{staticClass:"si-videoplayer"},[t("div",{staticClass:"si-videoplayer__container"},[e.currVideo&&e.ready?t("si-video",{ref:"videoPlayer",attrs:{videoSize:e.video.size,videoProps:e.props,videoCallbacks:e.videoAPI,videoID:e.currVideo.id,videoClickout:e.currVideo.clickout,videoSrc:e.currVideo.props.src,ad:e.video.ad,visible:e.video.visible},on:{quartile75Reached:e.onQuartile75Reached}}):e._e(),"playlist"===e.type&&null!==e.getNextVideo()?t("si-nextup",{directives:[{name:"show",rawName:"v-show",value:e.showNext,expression:"showNext"}],attrs:{next:e.getNextVideo()},on:{onCloseNextUp:function(i){e.showNext=!1},onNextClicked:e.nextClicked}}):e._e()],1),"playlist"===e.type&&e.thumbnails?t("si-thumbnails",{attrs:{current:e.currVideo,videos:e.video.playlist},on:{onThumbnailClicked:e.onThumbnailClicked}}):e._e()],1):e._e()},b=[],w=(t("20d6"),t("2ef0")),k=t.n(w),V=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("video",{ref:"siPlayer",class:{"video-js vjs-big-play-centered si-videoplayer__video vjs-16-9":!0,"si-videoplayer__video--mobile":null!==e.isMobile.any()},attrs:{id:e.videoJsId,preload:"auto",width:e.videoSize.width,height:e.videoSize.height}},[e._m(0)])},C=[function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("p",{staticClass:"vjs-no-js"},[e._v("\n    To view this video please enable JavaScript, and consider upgrading to a\n    web browser that\n    "),t("a",{attrs:{href:"http://videojs.com/html5-video-support/",target:"_blank"}},[e._v("\n      supports HTML5 video\n    ")])])}],P=(t("a481"),t("4917"),t("f87c")),x=function(){function e(){Object(d["a"])(this,e),this._debugMode=!1,this._isChrome=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),this._isFirefox=/firefox/i.test(navigator.userAgent)}return Object(l["a"])(e,[{key:"setDebug",value:function(e){e&&(this._debugMode=!0),this.log({msg:"DEBUG mode: "+(this._debugMode?"on":"off")})}},{key:"log",value:function(e){if(this._debugMode&&"undefined"!==typeof window.console&&"undefined"!==typeof e){var i={msg:"string"===typeof e?e:e.msg,type:"string"!==typeof e&&"undefined"!==typeof e.type?e.type:"info",data:"string"!==typeof e&&"undefined"!==typeof e.data?e.data:""},t="### [Video Embed]",o={error:{msg:" - ERROR! ",style:"background: #FF0000; color: #FFFFFF;"},info:{msg:" ",style:"background: #2e4ec1; color: #FFFFFF;"},success:{msg:" - SUCCESS! ",style:"background: #00e500; color: #FFFFFF;"},warning:{msg:" - WARNING! ",style:"background: #FFA500; color: #FFFFFF;"},event:{msg:"     ",style:"background: #00FF00; color: #000; border-left: 16px solid #008C00;"},on:{msg:"     ",style:"background: #FFFF00; color: #000; border-left: 16px solid #B2B200;"}};if(this._isChrome||this._isFirefox){var n=decodeURI("%25");console.log(n+"c "+(t+o[i.type].msg)+"\n> "+i.msg,o[i.type].style,i.data)}else console.log(t+i.msg,i.data)}}}]),e}(),E=new x,F={record:A,init:I},S=r.analytics.ga.category;function A(e,i){var t=Math.floor(Date.now()/1e3),o="video-id-"+t;null===i&&"localhost"===window.location.hostname?i=o:null===i&&""!==window.name&&(i=window.name+"_"+o),E.log({type:"event",msg:S+"\n"+e+"\n"+i}),window.ga("send","event",S,e,i)}function I(){window.ga("create",r.analytics.ga.id,"auto")}var D={record:O};function O(e,i,t){arguments.length>3&&void 0!==arguments[3]&&arguments[3];null!==r.analytics.ga.id&&F.record(t,i)}var M={Click:"Click",Game:"Game",Hover:"Hover",Video:"Video"},N={Click:{Actions:"Actions",Clickthru:"Clickthru",URL:"URL"},Game:{Started:"Started",Completed:"Completed",Muted:"Muted",Unmuted:"Unmuted",Replay:"Replay",Actions:"Actions"},Hover:{Hover:"Hover",Actions:"Actions"},Video:{Start:"Start",Pause:"Pause",VP_25:"VP_25",VP_50:"VP_50",VP_75:"VP_75",Finish:"Finish",Hover:"Hover",Mute:"Mute",Unmute:"Unmute",Fullscreen:"Fullscreen",Resume:"Resume",Seek:"Seek",Click:"Click"}},R=new o["a"],T=R,j={name:"HTML5Video",props:{videoSrc:{type:String},videoSize:{type:Object},videoProps:{type:Object},videoCallbacks:{type:Object},videoClickout:{type:String},videoID:{type:String},ad:{type:Object},visible:{type:Boolean}},data:function(){return{videoJsId:"si-video-"+Date.now(),videoPlayer:"",videoDuration:"",previousProgress:"",previousMuted:!0,ready:!1,defaultOptions:{playsinline:!0,autoplay:!1,muted:!0,controls:!0,playbackRates:[1,1.5,2,3],poster:!1,loop:!1},options:{},autoplayAllowed:!1,autoplayRequiresMute:!1,startEvent:"click",isMobile:{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}},adsErrors:0}},mounted:function(){var e=this,i="https://cdn.springboardplatform.com/storage/SI-General/conversion/1537851.mp4",t=e.videoSrc;if(null===e.videoSrc)return E.log({msg:"No video src was received!",type:"error"}),void("localhost"===window.location.hostname&&(t=i,E.log("[DEV] Running with Video Placeholder")));e.options=k.a.assign(e.defaultOptions,e.videoProps,{src:t}),e.visible||(e.options.autoplay=!1),e.checkUnmutedAutoplaySupport()},methods:{checkUnmutedAutoplaySupport:function(){var e=this;P["a"].video({timeout:100,muted:!1}).then(function(i){var t=i.result;i.error;!1===t?e.checkMutedAutoplaySupport():(e.autoplayAllowed=!0,e.autoplayRequiresMute=!1,e.initPlayer())})},checkMutedAutoplaySupport:function(){var e=this;P["a"].video({timeout:100,muted:!0}).then(function(i){var t=i.result;i.error;!1===t?(e.autoplayAllowed=!1,e.autoplayRequiresMute=!1):(e.autoplayAllowed=!0,e.autoplayRequiresMute=!0),e.initPlayer()})},initAdDisplayContainer:function(){this.videoPlayer.ima.initializeAdDisplayContainer(),this.videoPlayer.removeEventListener(this.startEvent,this.initAdDisplayContainer.bind(this))},initPlayer:function(){var e=this;e.videoPlayer=window.videojs(e.videoJsId,e.options,function(){var i=this;function t(){var i=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.webkitDisplayingFullscreen||null!=document.msFullscreenElement,t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,o=i?"FullscreenOn":"FullscreenOff";"FullscreenOn"!==o||k.a.isUndefined(t)?document.body.className=document.body.className.replace(/(^|\s)is-fullscreen\b/g,""):e.onVideoFullscreen()}i.src({type:"video/mp4",src:e.options.src}),!k.a.isUndefined(e.options.currentTime)&&k.a.isNumber(e.options.currentTime)&&i.currentTime(e.options.currentTime),document.addEventListener("fullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("MSFullscreenChange",t),i.on("canplaythrough",e.onVideoReady),i.on("timeupdate",e.reportQuartiles),i.on("play",e.onVideoPlay),i.on("pause",e.onVideoPaused),i.on("seeking",e.onVideoSeeking),i.on("seeked",e.onVideoSeeked),i.on("volumechange",e.onVolumeChanged),i.on("mouseover",e.onVideoMouseOver),i.on("click",e.onVideoClick),i.on("ended",e.onVideoEnd),i.on("adplaying",function(i){e.adsErrors=0}),i.on("adserror",function(i){e.adsErrors++,k.a.isUndefined(i.data.AdError)||E.log({msg:"Ad Error",type:"error",data:i.data.AdError})})}),T.$on("pauseVideo",function(){e.videoPlayer.pause()}),T.$on("onVPVisibility",function(i){i&&!e.videoPlayer.paused()||i&&e.videoProps.autoplay?e.videoPlayer.play():i||e.videoPlayer.pause()}),e.videoPlayer.runAdBreak=e.runAdBreak,e.initAd()},initAd:function(){var e=this;if(k.a.isUndefined(e.videoPlayer.ima)||null===e.ad.iu||null===e.ad.cust_params)E.log({msg:'No "iu" or "cust_params" found to run the ad tag!',type:"warning"});else{var i=e.ad.tag+"&iu="+e.ad.iu+"&cust_params="+e.ad.cust_params+"&correlator="+Math.floor(Date.now()/1e3);e.videoPlayer.ima({id:e.videoJsId,adTagUrl:i,adsManagerLoadedCallback:e.initImaEvents.bind(e),vastLoadTimeout:1e4,numRedirects:2}),E.log("Running tag:\n"+i),e.options.autoplay||((navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(e.startEvent="touchend"),e.videoPlayer.one(e.startEvent,e.initAdDisplayContainer.bind(e)))}},initImaEvents:function(e){var i=this;this.videoPlayer.ima.addEventListener(window.google.ima.AdEvent.Type.STARTED,function(){i.videoPlayer.ima.isPlaying=!0}),this.videoPlayer.ima.addEventListener(window.google.ima.AdEvent.Type.COMPLETE,function(){i.videoPlayer.ima.isPlaying=!1,i.onVideoReady()})},runAdBreak:function(e){var i=this;if(k.a.isUndefined(i.videoPlayer.ima)||null===i.ad.iu||null===i.ad.cust_params)E.log({msg:'No "iu" or "cust_params" found to run the ad tag!',type:"warning"});else{var t=i.ad.tag+"&iu="+i.ad.iu+"&cust_params="+i.ad.cust_params+"&correlator="+Math.floor(Date.now()/1e3);i.videoPlayer.ima.changeAdTag(t),i.videoPlayer.ima.requestAds(),i.videoPlayer.play(),E.log("Running adbreak with tag:\n"+t),!k.a.isUndefined(e)&&k.a.isFunction(e)&&e()}},onVideoReady:function(e){this.videoDuration=this.videoPlayer.duration(),!k.a.isUndefined(this.videoCallbacks)&&this.videoCallbacks.onVideoReady&&this.videoCallbacks.onVideoReady(this.videoPlayer)},reportQuartiles:function(){var e=this,i=e.videoPlayer.currentTime(),t=100*i/e.videoDuration;"Infinity"!=t&&(t>=25&&e.previousProgress<25&&D.record(M.Video,N.Video.VP_25,e.videoID,e.videoID),t>=50&&e.previousProgress<50&&D.record(M.Video,N.Video.VP_50,e.videoID,e.videoID),t>=75&&e.previousProgress<75&&D.record(M.Video,N.Video.VP_75,e.videoID,e.videoID),t>=90&&e.previousProgress<90&&e.$emit("quartile75Reached",e.videoPlayer),t>=100&&e.previousProgress<100&&D.record(M.Video,N.Video.Finish,e.videoID,e.videoID),e.previousProgress=t)},onVolumeChanged:function(e){this.videoPlayer.muted()?D.record(M.Video,N.Video.Mute,this.videoID,this.videoID):this.previousMuted&&D.record(M.Video,N.Video.Unmute,this.videoID,this.videoID),this.previousMuted=this.videoPlayer.muted()},onVideoPlay:function(e){this.previousMuted=this.videoPlayer.muted(),D.record(M.Video,N.Video.Start,this.videoID,this.videoID)},onVideoPaused:function(e){D.record(M.Video,N.Video.Pause,this.videoID,this.videoID)},onVideoSeeking:function(e){},onVideoSeeked:function(e){D.record(M.Video,N.Video.Seek,this.videoID,this.videoID)},onVideoEnd:function(e){!k.a.isUndefined(this.videoCallbacks)&&this.videoCallbacks.onVideoEnded&&this.videoCallbacks.onVideoEnded(this.videoPlayer)},onVideoFullscreen:function(e){D.record(M.Video,N.Video.Fullscreen,this.videoID,this.videoID)},onVideoMouseOver:function(e){var i=this;setTimeout(function(){D.record(M.Video,N.Video.Hover,i.videoID,i.videoID)},3e3)},onVideoClick:function(e){if("VIDEO"===e.target.nodeName&&""!==this.videoClickout&&!k.a.isUndefined(this.videoClickout)&&null!==this.videoClickout){var i=this.videoClickout;D.record(M.Video,N.Video.Click,this.videoID),window.open(i,"_blank")}}}},U=j,L=Object(f["a"])(U,V,C,!1,null,null,null);L.options.__file="HTML5Video.vue";var B=L.exports,$=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{ref:"slider-container",staticClass:"si-videoplayer__thumbnails slider"},[t("div",{staticClass:"slider__frame"},[t("ul",{staticClass:"slider__slides"},e._l(e.videos,function(i){return t("li",{key:i.id,class:{thumbnail:!0,"thumbnail--active":e.current.id===i.id},attrs:{id:"thumb__"+i.id},on:{click:function(t){e.onThumbnailClicked(i,t)}}},[t("img",{staticClass:"thumbnail__image",attrs:{src:i.props.poster}}),t("div",{staticClass:"thumbnail__gradient thumbnail__gradient--vertical"}),t("div",{staticClass:"thumbnail__gradient thumbnail__gradient--overlay"}),t("div",{staticClass:"thumbnail__gradient thumbnail__gradient--bottom"}),e.current.id===i.id?t("div",{staticClass:"thumbnail__item-playing"},[e._v("\n          NOW PLAYING\n        ")]):e._e(),i.title?t("p",{staticClass:"thumbnail__title",attrs:{title:i.title},domProps:{textContent:e._s(i.title)}}):e._e()])}))]),t("div",{staticClass:"slider__prev"}),t("div",{staticClass:"slider__next"})])},z=[],q={name:"Thumbnails",props:["current","videos"],data:function(){return{slider:null}},created:function(){var e=this;e.$parent.$on("playerReady",function(i){i&&null===e.slider&&e.initSlider()})},methods:{detectSwipe:function(e,i){var t,o,n,s,a,r=150,d=200;e.addEventListener("touchstart",function(e){var i=e.changedTouches[0];n=0,t=i.pageX,o=i.pageY,a=(new Date).getTime(),e.preventDefault()},!1),e.addEventListener("touchmove",function(e){e.preventDefault()},!1),e.addEventListener("touchend",function(e){var l=e.changedTouches[0];n=l.pageX-t,s=(new Date).getTime()-a;var c=s<=d&&n>=r&&Math.abs(l.pageY-o)<=100;i(c),e.preventDefault()},!1)},initSlider:function(){var e=this;e.slider=window.lory(e.$refs["slider-container"],{classNameFrame:"slider__frame",classNameSlideContainer:"slider__slides",classNamePrevCtrl:"slider__prev",classNameNextCtrl:"slider__next",classNameActiveSlide:"active",rewind:!1,infinite:!1,rewindPrev:!1,rewindOnResize:!0}),window.addEventListener("resize",function(){e.$emit("onThumbnailClicked",e.videos[0])})},onThumbnailClicked:function(e,i){i.preventDefault(),i.stopPropagation(),this.$emit("onThumbnailClicked",{v:e,e:i})}}},H=q,G=Object(f["a"])(H,$,z,!1,null,null,null);G.options.__file="Thumbnails.vue";var J=G.exports,W=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"si-videoplayer__next-up"},[t("div",{staticClass:"si-videoplayer__next-up__container"},[t("div",{staticClass:"si-videoplayer__next-up__thumbnail",style:{backgroundImage:"url("+e.next.video.props.poster+")"},on:{click:e.nextClicked}}),t("div",{staticClass:"si-videoplayer__next-up__body",on:{click:e.nextClicked}},[t("div",{staticClass:"si-videoplayer__next-up__header"},[e._v("\n        Next Up\n      ")]),t("div",{staticClass:"si-videoplayer__next-up__title"},[e._v("\n        "+e._s(e.next.video.title)+"\n      ")])]),t("button",{staticClass:"si-videoplayer__next-up__close-btn",attrs:{type:"button","aria-label":"Close"},on:{click:e.closeNextUp}},[t("svg",{staticClass:"svg-icon svg-icon-close",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 240 240",focusable:"false"}},[t("path",{attrs:{d:"M134.8,120l48.6-48.6c2-1.9,2.1-5.2,0.2-7.2c0,0-0.1-0.1-0.2-0.2l-7.4-7.4c-1.9-2-5.2-2.1-7.2-0.2c0,0-0.1,0.1-0.2,0.2L120,105.2L71.4,56.6c-1.9-2-5.2-2.1-7.2-0.2c0,0-0.1,0.1-0.2,0.2L56.6,64c-2,1.9-2.1,5.2-0.2,7.2c0,0,0.1,0.1,0.2,0.2l48.6,48.7l-48.6,48.6c-2,1.9-2.1,5.2-0.2,7.2c0,0,0.1,0.1,0.2,0.2l7.4,7.4c1.9,2,5.2,2.1,7.2,0.2c0,0,0.1-0.1,0.2-0.2l48.7-48.6l48.6,48.6c1.9,2,5.2,2.1,7.2,0.2c0,0,0.1-0.1,0.2-0.2l7.4-7.4c2-1.9,2.1-5.2,0.2-7.2c0,0-0.1-0.1-0.2-0.2L134.8,120z"}})])])])])},Q=[],Y={name:"NextUp",props:["next","videos"],methods:{nextClicked:function(){this.$emit("onNextClicked",this.next)},closeNextUp:function(){this.$emit("onCloseNextUp",!0)}}},X=Y,K=Object(f["a"])(X,W,Q,!1,null,null,null);K.options.__file="NextUp.vue";var Z=K.exports,ee={name:"VideoPlayer",props:["video","type","thumbnails"],data:function(){return{index:0,currVideo:this.video.playlist.length>=1?this.video.playlist[0]:{props:this.video.props},videoAPI:{onVideoReady:this.onVideoReady,onVideoEnded:this.onVideoFinish},player:null,props:{},ready:!1,showNext:!1}},mounted:function(){var e=this;this.props=k.a.assign(this.video.props,this.currVideo.props),setTimeout(function(){e.assignVideoId(),e.ready=!0})},methods:{assignVideoId:function(){""!==this.video.ci&&(this.currVideo.id=this.video.ci+"_"+this.currVideo.id)},getNextVideo:function(){var e=this.index+1;return this.video.playlist[e]&&this.video.playlist[e]!==k.a.last(this.video.playlist)?{video:this.video.playlist[e],index:e}:null},onVideoFinish:function(e){var i=this;i.showNext=!1;var t=i.getNextVideo();"playlist"===i.type&&(null!==t?i.player.runAdBreak(function(){i.assignVideoId(),i.changeVideo(t.index,t.video)}):E.log("End of playlist reached"))},changeVideo:function(e,i){var t=this;t.showNext=!1,t.index=e,t.currVideo=i,t.player.src({type:"video/mp4",src:t.currVideo.props.src}),t.player.poster(t.currVideo.props.poster),t.player.load(),t.player.play(),u.hide()},onVideoReady:function(e){var i=this;null!==e&&(this.player=e),setTimeout(function(){i.$emit("playerReady",!0)})},onThumbnailClicked:function(e){var i=this;if(!("undefined"===typeof e.e||null===i.player||null!==i.player&&"undefined"!==typeof this.player.ima&&i.player.ima.isPlaying)){u.show();var t=k.a.findIndex(i.video.playlist,function(i){return i.id===e.v.id});i.changeVideo(t,e.v)}},nextClicked:function(e){this.showNext=!1,this.changeVideo(e.index,e.video)},onQuartile75Reached:function(){this.showNext=!0}},components:{siVideo:B,siThumbnails:J,siNextup:Z}},ie=ee,te=Object(f["a"])(ie,_,b,!1,null,null,null);te.options.__file="VideoPlayer.vue";var oe=te.exports,ne=t("bc3a"),se=t.n(ne),ae=t("220c"),re=t.n(ae),de=new(function(){function e(){Object(d["a"])(this,e),this.env=window.location.host.indexOf("localhost")>-1?"local":"prd",this.hosts={local:"//localhost/apps/si_if_sii-2905_internal_video-embed/public",prd:window.location.origin},this.deferred=new re.a,this.response={type:"video",videos:null}}return Object(l["a"])(e,[{key:"init",value:function(){return this.requestVideo().then(this.assignVideo.bind(this)),this.deferred.promise}},{key:"_assignProtocol",value:function(e){return window.location.protocol+"//"+e.replace(/(^\w+:|^)\/\//,"")}},{key:"_onPlaylist",value:function(e){var i=this;i.response.type="playlist";var t=e.playlists[0];null!==r.video.sb.playlist_order||"default"!==r.video.sb.playlist_order?"random"===r.video.sb.playlist_order?(t.videos=k.a.shuffle(t.videos),E.log("Playing Random Video from Playlist")):"recent"===r.video.sb.playlist_order&&(t.videos=k.a.sortBy(t.videos,function(e){return new Date(e.created)}).reverse(),E.log("Playlist Order: By Most Recent")):E.log("Playlist Order: Default"),i.response.videos=k.a.map(t.videos,function(e){return{id:"playlist-video-id-"+e.id,props:{src:i._assignProtocol(e.url),poster:i._assignProtocol(e.image_lg)},title:e.title}}),i.deferred.resolve(i.response)}},{key:"assignVideo",value:function(e){var i=this;if("success"===e.data.status){var t=null,o=0;E.log({msg:"SB Data Received!",data:e.data}),null!==r.video.sb.video_id?(t=e.data.data,r.video.props.src=i._assignProtocol(t.videos[o].url),r.video.props.poster=i._assignProtocol(t.videos[o].image_lg),this.response.videos=[{id:"video-id-"+r.video.sb.video_id,props:{src:r.video.props.src,poster:r.video.props.poster},title:t.videos[o].title}]):i._onPlaylist(e.data.data),this.deferred.resolve(this.response)}else"undefined"!==typeof console.error&&E.log({msg:"[Video Embed] An error occur on connecting to SB API!",type:"error",data:e.data.error}),this.deferred.reject(e.data.error)}},{key:"requestVideo",value:function(e){var i=this,t=i.hosts[i.env]+"/api/request.php?site_id="+r.video.sb.site_id;return r.video.sb.video_id?t+="&video_id="+r.video.sb.video_id:t+="&playlist_id="+r.video.sb.playlist_id,se.a.get(t)}}]),e}()),le={name:"app",data:function(){return{loadingSpinner:u.spinner,type:r.type,video:null,ready:!1,returned:!1,thumbnails:!1}},mounted:function(){var e=this;e.addListener(),null===r.video.sb.site_id||null===r.video.sb.playlist_id&&null===r.video.sb.video_id?(e.video=r.video,null===e.video.id&&(e.video.id="video-"+Date.now()),e.ready=!0):(E.log("Setting Video data from SB API..."),de.init().then(function(i){e.type=r.type=i.type,r.video.playlist=i.videos,e.thumbnails=r.video.sb.thumbnails,e.video=r.video,e.ready=!0}))},methods:{respondMsg:function(e){if("external"===e.data.source&&"command"===e.data.type)switch(E.log("Received Message: "+e.data.command,e.data.data),e.data.command){case"postId":r.video.ci=e.data.data.ci;break;case"video":"pause"===e.data.data.action&&T.$emit("pauseVideo",!0);break;case"visibility":default:r.video.visible=e.data.data.visible,T.$emit("onVPVisibility",e.data.data.visible);break}},addListener:function(){window.addEventListener?window.addEventListener("message",this.respondMsg.bind(this),!1):window.attachEvent("onmessage",this.respondMsg.bind(this)),parent.postMessage({source:window.name,target:"external",type:"command",data:{ready:!0}},"*")}},components:{VideoPlayer:oe,siSpinner:g}},ce=le,ue=Object(f["a"])(ce,n,s,!1,null,null,null);ue.options.__file="App.vue";var ve=ue.exports,pe=t("99da");t("85c3");o["a"].config.productionTip=!1,Object(pe["iframeResizer"])({log:!1});var he=function(e){var i=!1,t=[],o=location.search.substr(1).split("&");return o.forEach(function(o){t=o.split("="),t[0]===e&&(i=decodeURIComponent(t[1]))}),i},me=function(e){switch(e){case!0:case"true":case"TRUE":case 1:case"1":case"ON":case"on":case"YES":case"yes":return!0;case!1:case"FALSE":case"false":case 0:case"0":case"OFF":case"off":case"no":case"NO":return!1;default:return e}},fe=function(){try{return window.self!==window.top}catch(e){return!0}},ye=function(){var e=["autoplay","controls","currentTime","defaultMuted","loop","muted","src","poster","playsinline"];k.a.each(e,function(e){if(he(e)){if("src"===e&&-1===he(e).indexOf("//cdn.springboardplatform.com/"))return void("undefined"!==typeof console.error&&console.error("[Video Embed] Validator Failed! \nTried to play video that is not being hosted by Springboard"));r.video.props[e]=me(he(e)),"currentTime"===e&&(r.video.props[e]=Number(r.video.props[e]))}}),he("debug")&&(r.debug=me(he("debug"))),he("ci")&&(r.video.ci=he("ci")),he("id")&&(r.video.id=he("id")),fe()&&window.innerWidth&&(r.video.size.width=window.innerWidth),fe()&&window.innerHeight&&(r.video.size.height=window.innerHeight),he("width")&&(r.video.size.width=he("width")),he("height")&&(r.video.size.height=he("height")),he("gaId")&&(r.analytics.ga.id=he("gaId")),he("iu")&&(r.video.ad.iu=he("iu")),he("cust_params")?(r.video.ad.cust_params=he("cust_params"),-1===r.video.ad.cust_params.indexOf("vast")&&r.video.ad.cust_params.indexOf("kw=")>-1&&(r.video.ad.cust_params+=r.video.ad.cust_params+encodeURIComponent(",vast"))):r.video.ad.cust_params=encodeURIComponent("kw=vast"),he("t")&&(r.video.ad.t=he("t")),he("site_id")&&(r.video.sb.site_id=he("site_id")),he("playlist_id")&&(r.video.sb.playlist_id=he("playlist_id")),he("video_id")&&(r.video.sb.video_id=he("video_id")),he("playlist_order")&&(r.video.sb.playlist_order=he("playlist_order")),he("thumbnails")&&(r.video.sb.thumbnails=me(he("thumbnails")))};new o["a"]({render:function(e){return e(ve)},data:function(){return{gaScript:"(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');"}},mounted:function(){var e=document.getElementsByTagName("body")[0];if(null!==r.analytics.ga.id){var i=document.createElement("script");i.type="text/javascript",i.textContent=this.gaScript,e.appendChild(i),F.init()}},created:function(){ye(),E.setDebug(r.debug)}}).$mount("#app")},"85c3":function(e,i,t){}});
//# sourceMappingURL=app.04081df4.js.map