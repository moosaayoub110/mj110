!function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=27)}([function(e,t,i){"use strict";var r=i(5),n=i(2),o=i(10),a=i(3),s=i(8),l=i(1),d=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},p=window,u=function(){function e(){}return e.createPlayerWrapperElement=function(t){var i=t.playerLocation,r=e.getPlayerWrapperElement(t);switch(r&&r.parentNode.removeChild(r),i){case"inWidget":return e.createInWidgetPlayerWrapper(t);case"aboveWidget":return e.createAboveWidgetPlayerWrapper(t);case"belowWidget":return e.createBelowWidgetPlayerWrapper(t);default:return e.createInWidgetPlayerWrapper(t)}},e.reset=function(t){var i=e.getPlayerWrapperElement(t);i&&i.parentNode.removeChild(i)},e.getUpdatedPlayerDimensions=function(t){try{var i={};e.providerConfig=t;var r=t.playerLocation,o=t.containerID,a=e.getWidgetElement(o),s=t.playerMaxWidth;switch(r){case"inWidget":var l=parseInt(t.firstIndex),d=parseInt(t.lastIndex),p=a.querySelector(".ob-recIdx-"+l),u=a.querySelector(".ob-recIdx-"+d);i=e.getPlayerDimensions(p,u);break;case"aboveWidget":var c=a.querySelector(".ob-widget-items-container")||a.querySelector(".ob-widget");i=e.getPlayerDimensionsForOuterPlayer(c,a,s);break;case"belowWidget":var h=a.querySelectorAll(".ob-widget-items-container")||a.querySelectorAll(".ob-widget");if(h&&h.length){var g=h[h.length-1];i=e.getPlayerDimensionsForOuterPlayer(g,a,s)}}return i}catch(e){throw this.auditServiceEvent(this.noWidgetAuditBody,null,null,n.a.INFO),"EXIT"}},e.getPlayerWrapperElement=function(e){var t=e.containerID,i=e.widgetID,r=t+"_"+i+"_playerWrapper";return document.getElementById(r)},e.createInWidgetPlayerWrapper=function(t){try{var i=t.containerID,r=e.getWidgetElement(i),o=t.widgetID,a=parseInt(t.firstIndex),s=parseInt(t.lastIndex),l=r.querySelector(".ob-recIdx-"+a),d=r.querySelector(".ob-recIdx-"+s),p=e.getPlayerDimensions(l,d),u=e.createPlayerWrapperDiv(i+"_"+o+"_playerWrapper",p.width,p.height-5);return l.appendChild(u)}catch(e){return this.auditServiceEvent(this.noWidgetAuditBody,null,null,n.a.INFO),null}},e.createAboveWidgetPlayerWrapper=function(t){try{var i=t.containerID,r=e.getWidgetElement(i),o=t.widgetID,a=r.querySelector(".ob-widget-items-container")||r.querySelector(".ob-widget"),s=t.playerMaxWidth;if(a){var l=e.getPlayerDimensionsForOuterPlayer(a,r,s),d=e.createPlayerWrapperDiv(i+"_"+o+"_playerWrapper",l.width,l.height);return a.parentElement.insertBefore(d,a)}}catch(e){return this.auditServiceEvent(this.noWidgetAuditBody,null,null,n.a.INFO),null}},e.getPlayerDimensionsForOuterPlayer=function(t,i,r){if(i.getAttribute("data-feed-idx")){var n=i.querySelector(".ob-widget-section");return e.getPlayerDimensions(n,null,r)}return e.getPlayerDimensions(t,null,r)},e.createBelowWidgetPlayerWrapper=function(t){try{var i=t.containerID,r=e.getWidgetElement(i),o=t.widgetID,a=t.playerMaxWidth,s=r.querySelectorAll(".ob-widget-items-container")||r.querySelectorAll(".ob-widget");if(s&&s.length){var l=s[s.length-1],d=e.getPlayerDimensionsForOuterPlayer(l,r,a),p=e.createPlayerWrapperDiv(i+"_"+o+"_playerWrapper",d.width,d.height);return l.parentElement.appendChild(p)}}catch(e){return this.auditServiceEvent(this.noWidgetAuditBody,null,null,n.a.INFO),null}},e.createPlayerWrapperDiv=function(e,t,i){var r=window.document.createElement("div");return r.id=e,r.style.setProperty("width",t+"px","important"),r.style.height=i+"px",r.style.zIndex="1",r.style.visibility="hidden",r.style.top="0px",r.style.position="absolute",r.style.marginRight="auto",r.style.marginLeft="auto",r.style.display="flex",r.style.flexDirection="column",r},e.getTopLeftPoint=function(t,i){try{var r=e.getWidgetElement(t);if(i){var o=r.querySelector(".ob-recIdx-"+i);if(o)return o.getBoundingClientRect().top}return r.getBoundingClientRect().top}catch(e){throw this.auditServiceEvent(this.noWidgetAuditBody,null,null,n.a.INFO),"EXIT"}},e.getPlayerEffectiveTopLeftPosition=function(t,i,r){try{var o=e.getWidgetElement(t);switch(i){case"inWidget":var a=o.querySelector(".ob-recIdx-"+r);if(a)return a.getBoundingClientRect().top;break;case"aboveWidget":return o.getBoundingClientRect().top;case"belowWidget":return o.getBoundingClientRect().bottom;default:return o.getBoundingClientRect().top}return o.getBoundingClientRect().top}catch(e){throw this.auditServiceEvent(this.noWidgetAuditBody,null,null,n.a.INFO),"EXIT"}},e.getWidgetHeight=function(t){try{return e.getWidgetElement(t).getBoundingClientRect().height}catch(e){throw this.auditServiceEvent(this.noWidgetAuditBody,null,null,n.a.INFO),"EXIT"}},e.getWidgetRecInfo=function(e,t){var i={},n="title"===t?"text":t,o=document.querySelector("#"+e.containerID+" .ob-recIdx-0 .ob-rec-"+n);return o&&(i.style=window.getComputedStyle(o)||{},i.size=r.a.getTextSize(e[t],i.style)),i},e.isEmptyWidget=function(t){try{return!!e.getWidgetElement(t).querySelector(".ob-recIdx-0")}catch(e){throw this.auditServiceEvent(this.noWidgetAuditBody,null,null,n.a.INFO),"EXIT"}},e.displayWidgetElements=function(t,i,r){void 0===r&&(r=!0);try{for(var o=e.getWidgetElement(t),a=0,s=i;a<s.length;a++){var l=s[a],d=o.querySelector(".ob-recIdx-"+(l-1));r?(d.style.visibility="visible",d.classList.remove("playerPlay")):(d.style.visibility="hidden",d.classList.add("playerPlay"))}}catch(e){throw this.auditServiceEvent(this.noWidgetAuditBody,null,null,n.a.INFO),"EXIT"}},e.getWidgetElement=function(e){return document.getElementById(e)},e.getPlayerDimensions=function(e,t,i){void 0===i&&(i=null);var r=e.getBoundingClientRect();if(t){var n=t.getBoundingClientRect(),o=n.right-r.left>0?n.right-r.left:r.right-n.left,a=n.bottom-r.top;return{width:o&&o>0?o:0,height:a&&a>0?a:0}}var s=i&&i<r.width?i:r.width;return{width:s,height:Math.floor(9*s/16)}},e.getWidgetSetting=function(t,i,r){return e.widgetProxy.getSet(t,i,r)},e.addBrandingStyle=function(e,t,i){var r=document.createElement("style");r.innerHTML="#"+e+"videoBranding .ob_what{background:none !important; padding: 0 5px;}",r.innerHTML+=t?"#"+e+"videoBranding{float:left;}":"#"+e+"videoBranding{float:right;}",r.innerHTML+=i?"#"+e+"videoBranding .ob_what{ padding-bottom: 5px;}":"#"+e+"videoBranding .ob_what{ padding-top: 5px;}",document.body.appendChild(r)},e.addDefaultBrandingStyle=function(e,t,i){var r=document.createElement("style"),n=e+"videoBranding";r.innerHTML="#"+n+" .ob_logo:hover {background-position: center bottom !important;}",i?(r.innerHTML+=t?"#"+e+"titleSrcWrapper{max-width:calc(100% - 190px); float: right;}":"",r.innerHTML+="#"+n+' .ob_what a:before {content: ""; vertical-align: baseline; background-image: url(https://widgets.outbrain.com/images/widgetIcons/achoice.svg); background-size: 75% 75%; width: 12px; height: 12px; padding-right: 4px; margin-right:4px; display: inline-block; background-repeat: no-repeat; background-position: left center; border-right: 1px solid #999;}'):(r.innerHTML+="#"+n+' .ob_what a:after {vertical-align: baseline; content:""; background-image: url(https://widgets.outbrain.com/images/widgetIcons/achoice.svg); background-size: 75% 75%; width: 12px; height: 12px; padding-left: 4px; display: inline-block; background-repeat: no-repeat; background-position: right center; border-left: 1px solid #999; }',r.innerHTML+=t?"#"+e+"titleSrcWrapper{max-width:calc(100% - 190px); float: left;}":""),document.body.appendChild(r)},e.getVideoProviderWidgetSettings=function(t){try{var i=e.getWidgetIndex(t),o=i?"outbrain_widget_"+i:"outbrain_widget_0",a=e.getWidgetElement(o),s=e.getGenericProviderSettings(t),l=e.getProvidersWaterfall(t),p=l&&l.length?l[0]:"",u={widget:t,widgetID:e.getWidgetId(t),reportedWidgetId:e.getReportedWidgetJSId(t,a),widgetIdx:i||0,isSmartFeed:e.isSmartFeed(a),isSmartFeedFather:e.isSmartFeedFather(a),pubID:e.getWidgetRequest(t,"pid",null),reqID:e.getWidgetRequest(t,"req_id",-1),pageViewId:e.getWidgetRequest(t,"pvId",""),containerID:o,docId:e.getWidgetRequest(t,"did",-1),sourceId:e.getWidgetRequest(t,"sid",null),lazyListingsPixel:e.getWidgetMeta(t,"lazyListingsPixel",null),datasrc:e.widgetProxy.getDataSrcFinalUrl?e.widgetProxy.getDataSrcFinalUrl(t):this.getDocUrl(a),parallelPlay:e.getWidgetSetting(t,"vidgetParallelPlay","avoid"),viewabiltyEventTime:e.getWidgetSetting(t,"vidgetViewabilityMinDuration",2),viewabilityPercentageThreshold:e.getWidgetSetting(t,"vidgetViewabilityPercentageThreshold",50),playerMaxWidth:e.getWidgetSetting(t,"vidgetPlayerMaxWidth",null),playOnlyOnWifi:e.getWidgetSetting(t,"vidgetPlayOnlyOnWifi",!0),reportedSubWidgetId:e.getReportedSubWidgetId(t,a),consentData:e.getWidgetRequest(t,"cnsnt",""),gdprInt:this.getGdprOrLegit(t),abTestVal:e.getAbTestVal(t,"abTestVal","no_abtest")||"void",isIframe:r.a.isIframe(),recsNumber:e.getWidgetRequest(t,"tcr",0),fid:e.getFeedFatherId(t,a),fIndex:e.getFeedFatherIndex(t,a),stickyPlayer:e.getWidgetSetting(t,"stickyPlayer","None"),placementType:e.getWidgetSetting(t,"placementType","widget-footer"),brandingType:e.getWidgetSetting(t,"whatIsBrandingType","Amelia + copy"),isTopBranding:e.isTopBranding(a),titleHeight:21,adBlockStatus:"true"===e.widgetProxy.getAdBlockerStatus(),rtlWidget:this.isRTLWidget(a),onlyVideoWidget:0===e.getWidgetRequest(t,"tcr",0),externalCampaignId:e.getObExtId(t),sellerJsonChain:{ver:"1.0",complete:1,nodes:[{asi:"outbrain.com",sid:"0000000000000000000000000000000000",hp:1}]}};if("None"!==u.brandingType)if(this.isFeedBranding(t,a,u)||u.onlyVideoWidget)u.brandingTag='<div class="ob_what" style="text-align: right; direction: ltr; clear: both; ">\n\t\t<a href="https://www.outbrain.com/what-is/default/en" rel="nofollow" onclick="OBR.extern.callWhatIs(\'https://www.outbrain.com/what-is/default/en\',\'\',-1,-1,true ,null);return false" style="color: #999; font-size: 11px; font-family: arial; text-decoration: none;">Recommended by<span class="ob_logo" title="Outbrain - content marketing" style="background: url(https://widgets.outbrain.com/images/widgetIcons/ob_logo_67x12.png) no-repeat center top; width: 67px; height: 12px;vertical-align: baseline !important; display: inline-block; padding: 0px 5px; box-sizing: content-box; -moz-box-sizing: content-box; -webkit-box-sizing: content-box;"></span></a></div>',this.addDefaultBrandingStyle(o+"_"+u.widgetID+"_",u.onlyVideoWidget,u.rtlWidget),this.addBrandingStyle(o+"_"+u.widgetID+"_",u.rtlWidget,u.isTopBranding);else{var c=document.querySelector("#"+o),h=c.querySelector(".ob_what");h&&(u.brandingTag=r.a.nodeToString(h),this.addBrandingStyle(o+"_"+u.widgetID+"_",u.rtlWidget,u.isTopBranding))}return d({},u,s,{providersWaterfall:l,provider:p})}catch(e){throw this.auditServiceEvent(this.noWidgetAuditBody,null,null,n.a.INFO),"EXIT"}},e.getObExtId=function(t){if(e.widgetProxy&&e.widgetProxy.getExtId)try{return e.widgetProxy.getExtId(t)}catch(e){throw"*** Get OB_ExtId from widget proxy failed ***"}},e.isRTLWidget=function(e){var t=e.getElementsByClassName("ob-widget-items-container")[0];return!!t&&"rtl"===window.getComputedStyle(t).getPropertyValue("direction")},e.showOBBranding=function(e){var t=document.querySelector("#"+e+" [id*=videoBranding] .ob_what");t&&(t.style.display="inline-block")},e.hideOBBranding=function(e){var t=document.querySelector("#"+e+" [id*=videoBranding] .ob_what");t&&(t.style.display="none",t.style.whiteSpace="nowrap")},e.isTopBranding=function(e){var t=e.getElementsByClassName("ob_what")[0];if(t&&!r.a.isMobile()){var i=document.defaultView.getComputedStyle(t);if(["absolute","static"].includes(i.getPropertyValue("position"))&&!["auto",null].includes(i.getPropertyValue("top")))return!0}return!1},e.isFeedBranding=function(t,i,r){try{var o=i;if(r.isSmartFeed?o=e.getWidgetElement("outbrain_widget_"+this.getFeedFatherIndex(t,i)):r.isSmartFeedFather&&(o=i),o){var a=o.querySelector(".ob_what");if(a&&(a.querySelector(".ob_feed_logo")||a.querySelector(".ob_sfeed_logo")))return!0}return!1}catch(e){throw this.auditServiceEvent(this.noWidgetAuditBody,null,null,n.a.INFO),"EXIT"}},e.getDocUrl=function(e){var t=e.getAttribute("data-src");return t&&t.includes("http")?t:window.location.href},e.getProvidersWaterfall=function(t){var i=[],n=e.getWidgetSetting(t,"vidgetProvidersWaterfall",null),o=e.getWidgetSetting(t,"providersBalancing",null);if(n){if((i=n.split(",").map(function(e){return e.trim()}))&&i.length)return i}else if(o){try{o=p.JSON.parse(o)}catch(e){o={}}var a=r.a.performRandomWithBalance(o);if(a)return i.push(a),i}return i.push("Aniview","Vidazoo","OPA"),i},e.getExtraProvidersSettings=function(t){var i=e.getWidgetSetting(t.widgetSettings.widget,"vidgetData","{}");try{i=i.constructor===Object?i:p.JSON.parse(i)}catch(e){i={}}var r={};return r.widgetProviders=e.getVidgetProviders(t),r.publisherId=i.publisherId||"58a5addb28a0612d3529bc5e",r.errorLimit=i.errorLimit||3,r.channelId=e.getQueryString("obChannelId")||i.channelId,r.playerId=i.playerId||"5ae0a5c0da5fdd00042f78f5",r.userId=i.userId||"5a9ea5a0225f7d0004c70045",r.allowParallelInview=e.getQueryString("allowParallelInview")||i.allowParallelInview,r.tagId=e.getQueryString("obTagId")||i.tagId,r.providerTimeout=this.getTimeoutSetting(i,"Teads"),r},e.renamingPlayMode=function(e,t){switch(t){case"in-view":return a.a.View;case"in-view-preload":return a.a.ViewPreload;case"auto-play":return a.a.Load;default:return o.a.some(function(t){return t.name==e})?o.a.find(function(t){return t.name==e}).playMode:a.a.Load}},e.getGenericProviderSettings=function(t){var i=e.getWidgetSetting(t,"vidgetData","{}");try{i=p.JSON.parse(i)}catch(e){i={}}var r=e.getWidgetSetting(t,"vidgetIndexes","1"),n=e.getQueryString("obLocation")||e.getWidgetSetting(t,"vidgetPlayerLocation",null),o=e.getWidgetSetting(t,"vidgetAdUnitType",null),a=0,s=0,l=r.split(",");if(r&&r.length&&(a=l.length&&parseInt(l[0])>0?parseInt(l[0])-1:0,s=l.length?parseInt(l[l.length-1])-1:0),i.firstIndex=a,i.lastIndex=s,i.indexes=l,i.pubDomain=document.location.hostname||document.location.href,i.ctaText=i.ctaText||"",i.smartScroll=void 0!==i.smartScroll&&i.smartScroll,i.playerLocation=n||"inWidget",i.instream=o&&"instream"===o,i.unMuteOnMouseEnter=void 0!==i.unMuteOnMouseEnter&&i.unMuteOnMouseEnter,i.closeButton=void 0===i.closeButton||i.closeButton,i.stickyPlayer=e.getStickyPlayer(i,t),i.configuredReloadTime=1e3*parseInt(e.getWidgetSetting(t,"vidgetReloadTime",4)),i.configuredReloadCount=e.getWidgetSetting(t,"vidgetReloadCount",3),i.initialDelay=e.setInitialDelay(i,t),i.logLevel=void 0!==i.logLevel?i.logLevel.toUpperCase():"INFO",i.consoleLog=void 0!==i.consoleLog&&i.consoleLog,i.sliderPercentBottom=e.getSliderPercentBottom(i),i.test=void 0!==i.test&&i.test,i.sticky=e.getSticky(i),i.vidgetCustomControls=this.isValidJson(e.getWidgetSetting(t,"vidgetCustomControls","")),i.avoidSliderWhenSmall=i.avoidSliderWhenSmall||-1/0,i.placementType=this.getPlacementType(i.stickyPlayer,e.getWidgetSetting(t,"placementType","widget-footer")),"mobile-app-js-widget"===e.getWidgetSetting(t,"InstallationType","web-js-widget")){i.inApp=!0,i.appName=void 0!==i.appName?i.appName:void 0,i.appCategory=void 0!==i.appCategory?i.appCategory:void 0,i.packageName=void 0!==i.packageName?i.packageName:void 0,i.bundleId=void 0!==i.bundleId?i.bundleId:void 0,i.appStoreUrl=void 0!==i.appStoreUrl?i.appStoreUrl:void 0,i.playStoreUrl=void 0!==i.playStoreUrl?i.playStoreUrl:void 0,i.mobileUserId=e.getApiUserId(t);var d=navigator.userAgent;d.includes("iPhone")||d.includes("iPad")?i.platform="ios":d.includes("Android")&&(i.platform="android")}else i.inApp=!1;return i.env=this.getEnvironment(p.VIDGET_VERSION[0]),i.vidgetDeliveryMode=e.getWidgetSetting(t,"vidgetDeliveryMode","progressive"),i.NativeVideoMaxStreamingDuration=void 0!==i.NativeVideoMaxStreamingDuration?parseInt(i.NativeVideoMaxStreamingDuration):30,i},e.getEnvironment=function(e){return{p:"PROD",t:"TEST",s:"SIM"}[e]||"DEV"},e.setInitialDelay=function(t,i){var r=e.getStickyPlayer(t,i);return"none"!==r&&"regular"!==r?2e3:void 0!==t.initialDelay?1e3*parseInt(t.initialDelay):5e3},e.getSliderPercentBottom=function(e){return void 0!==e.sliderPercentBottom?Math.max(0,(e.sliderPercentBottom-17)%100)+"%":"2px"},e.getStickyPlayer=function(t,i){return e.getQueryString("obSticky")||e.getWidgetSetting(i,"vidgetActivateStickyPlayer","none").toString()},e.getSticky=function(t){return Object.assign({sliderPosition:"right",width:e.getStickyWidth(t.sliderWidthPercent,400),get height(){return Math.ceil(this.width/this.ratio)},ratio:16/9,widthDefault:400},{sliderPosition:t.sliderPosition||"right"})},e.getPlacementType=function(e,t){return"slider"===e||"sliderAlwaysRight"===e?"slider":"widget-in-content"===t?"in_article":"native-right-rail"===t?"sidebar":"footer"},e.getStickyWidth=function(e,t){return e?Math.min(Math.max(e,50),250)*(t/100):t},e.isValidJson=function(e){try{return JSON.parse(e)}catch(e){return}},e.getVidgetProviders=function(t){var i=e.getWidgetSetting(t.widgetSettings.widget,"vidgetPlayMode",void 0);return this.buildProvidersSetting(t,i)},e.buildProvidersSetting=function(t,i){var r=[],a=e.getQueryString("playMode")?decodeURIComponent(e.getQueryString("playMode")):void 0,d=this.isValidJson(i);if(d)if(Array.isArray(d))for(var p=0,u=d;p<u.length;p++){var c=u[p];r.push({name:s.a[c.name],playMode:a?this.renamingPlayMode(c.name,a):this.renamingPlayMode(c.name,c.playMode),bidFloor:c.bidFloor})}else for(var c in d)r.push({name:s.a[c],playMode:a?this.renamingPlayMode(c,a):this.renamingPlayMode(c,d[c]),bidFloor:null});else r=o.a,void 0!==i&&this.auditServiceEvent({eventType:l.a.Error,description:"Vidget Play Mode JSON not valid"},t.widgetSettings,null,n.a.INFO);return r},e.getTimeoutSetting=function(e,t){var i=void 0!==e.timeout?e.timeout:null;return i&&i.length&&(i=i.split(",").map(function(e){return e.trim()}),i[0]==t||"All"==i[0])?1e3*parseInt(i[1]):2e4},e.getGdprOrLegit=function(t){var i=e.getWidgetRequest(t,"gdpr",0);if(1==i&&"void"!=e.getWidgetRequest(t,"cnsnt","void"))return 1;var r=e.getWidgetSetting(t,"vidgetData","{}");try{r=p.JSON.parse(r)}catch(e){return i}return"undefined"!==r.gdpr&&"legitimate"==r.gdpr?2:i},e.getQueryString=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)","i"),i=t.exec(window.location.href);return i?i[1]:null},e.makeHandshake=function(t){e.widgetProxy&&e.widgetProxy.makeHandshake&&e.widgetProxy.makeHandshake(t)},e.getWidgetId=function(t){return e.getWidgetRequest(t,"widgetJsId",e.widgetProxy.getWidgetId(t))},e.getWidgetIndex=function(t){if(e.widgetProxy.getWidgetIndex)return e.widgetProxy.getWidgetIndex(t)},e.getReportedWidgetJSId=function(t,i){var r=e.getWidgetId(t);if(e.isSmartFeed(i)){var n=e.widgetProxy.getFeedParentWidget?e.widgetProxy.getFeedParentWidget(t):t;r=e.getWidgetId(n)}return r},e.getFeedFatherId=function(t,i){if(e.isSmartFeed(i)){var r=e.widgetProxy.getFeedParentWidget?e.widgetProxy.getFeedParentWidget(t):t;return e.getWidgetRequest(r,"wnid",null)}return null},e.getFeedFatherWidgetIndex=function(t,i){if(e.isSmartFeed(i)){var r=e.widgetProxy.getFeedParentWidget?e.widgetProxy.getFeedParentWidget(t):t;return e.getWidgetRequest(r,"idx",null)}return null},e.getFeedFatherWidget=function(t,i){return e.isSmartFeed(i)?e.widgetProxy.getFeedParentWidget?e.widgetProxy.getFeedParentWidget(t):t:null},e.getFeedFatherIndex=function(t,i){if(e.isSmartFeed(i)){var r=e.widgetProxy.getFeedParentWidget?e.widgetProxy.getFeedParentWidget(t):t;return e.getWidgetIndex(r)}return null},e.isSmartFeed=function(e){return!(!e||!e.getAttribute("data-feed-idx")&&!e.getAttribute("data-card-idx"))},e.isSmartFeedFather=function(e){return!!e.querySelector(".ob-widget[class*='ob-smartfeed']")},e.getReportedSubWidgetId=function(t,i){var r=e.getWidgetId(t);return e.isSmartFeed(i)?r:null},e.getWidgetRequest=function(t,i,r){if(e.widgetProxy.getRequest)return e.widgetProxy.getRequest(t,i,r)},e.getWidgetMeta=function(t,i,r){if(e.widgetProxy&&"function"==typeof e.widgetProxy.getMeta)try{return e.widgetProxy.getMeta(t,i,r)}catch(e){throw"*** Get widget meta from widget proxy failed ***"}return null},e.getAbTestVal=function(t,i,r){var n=e.widgetProxy.getFeedFatherAB;if(n.constructor===Function&&n(t)){var o=n(t);if(o&&o!==r){var a=this.getWidgetRequest(t,i,r),s=a.split("-")[1];return s?o+"-"+s:o}return o}return this.getWidgetRequest(t,i,r)},e.getApiUserId=function(t){if(e.widgetProxy&&"function"==typeof e.widgetProxy.getUserId)try{return e.widgetProxy.getUserId(t)}catch(e){throw"*** Get Api user id from widget proxy failed ***"}return null},e.canVideoBePorvided=function(t){var i=t.containerID,r=t.sourceId,n=e.getWidgetElement(i);if(!n||!r)return!1;var o=null;switch(t.playerLocation){case"inWidget":var a=parseInt(t.firstIndex),s=parseInt(t.lastIndex),l=n.querySelector(".ob-recIdx-"+a),d=n.querySelector(".ob-recIdx-"+s);return l&&d;case"aboveWidget":return o=n.querySelector(".ob-widget-items-container")||n.querySelector(".ob-widget");case"belowWidget":return(o=n.querySelectorAll(".ob-widget-items-container")||n.querySelectorAll(".ob-widget"))&&o.length;default:return!1}},e.stylePropertyValid=function(e,t){return void 0!==t&&"object"!=typeof t&&"function"!=typeof t&&t.length>0&&t!=parseInt(t)},e.odbCall=function(e,t){p.OBR.extern.callRecs(e,t)},e.auditServiceEvent=function(t,i,r,n){void 0===i&&(i=null),void 0===r&&(r=null),e.audit&&(!i||n<=i.loglevel.level)&&(i&&(e.audit.providerConfig=i),r&&(e.audit.playerConfig=r),e.audit.body=t,e.audit.send(),e.lastEventTime=Date.now(),i&&i.loglevel.consoleLog&&console.log("Debug: "+e.audit.body.description))},e.setNewAudit=function(t){e.audit=t},e.widgetProxy=p.OB_PROXY||{},e.providerConfig={},e.vidgetBottomMargin=10,e.lastEventTime=Date.now(),e.noWidgetAuditBody={eventType:l.a.Error,description:"Error in function that use the widget DOM element"},e}();t.a=u},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var r;!function(e){e.Loaded="VIDGET_LOADED",e.Verbose="VIDGET_VERBOSE",e.Canceled="VIDGET_CANCELED",e.Pending="VIDGET_PENDING",e.Viewability="VIDGET_VIEWABILITY",e.IterationCanceled="VIDGET_ITERATION_CANCELED",e.Ready="READY",e.Play="PLAY",e.Pause="PAUSE",e.Resume="RESUME",e.Complete="COMPLETE",e.Click="CLICK",e.Unmute="UNMUTE",e.Close="CLOSE",e.Error="ERROR",e.FirstQuartile="FIRST_QUARTILE",e.SecondQuartile="SECOND_QUARTILE",e.ThirdQuartile="THIRD_QUARTILE",e.SliderSkipped="SLIDER_SKIPPED",e.ProviderPass="PROVIDER_PASS",e.PixelFired="PIXEL_FIRED"}(r||(r={}))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var r;!function(e){e[e.INFO=0]="INFO",e[e.DEBUG=1]="DEBUG",e[e.VERBOSE=2]="VERBOSE"}(r||(r={}))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var r;!function(e){e.Load="load",e.View="view",e.ViewPreload="viewPreload"}(r||(r={}))},function(e,t,i){"use strict";var r=i(0),n=i(5),o=function(){function e(e,t,i,r,n){this.extractVideoConfig(e,i,r),this.videoProviderConfig.provider=n.name,this.videoProviderConfig.playMode=n.playMode,this.updateExtraProviderSettings(),this.sessionId=t}return e.prototype.extractVideoConfig=function(e,t,i){this.videoProviderConfig=e,this.videoProviderConfig.providerIndex=t,this.videoProviderConfig.currentReload=i},e.prototype.updateCurrentReload=function(e){this.videoProviderConfig.currentReload=e},e.prototype.provide=function(e){},e.prototype.updateExtraProviderSettings=function(){this.videoProviderConfig.trafficType=7,this.videoProviderConfig.providerTimeout=r.a.getTimeoutSetting(this.videoProviderConfig,this.videoProviderConfig.provider)},e.prototype.isWidgetInView=function(){return n.a.elementInViewport(r.a.getWidgetElement(this.videoProviderConfig.containerID),0)},e}();t.a=o},function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?n(e.value):new i(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function i(e){return function(t){return r([e,t])}}function r(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,o=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(a=l.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,o,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},o=function(){function e(){}return e.addPolyfills=function(){Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,r=function(){function e(){}return e}(),n=function(){return i.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,n.prototype=new r,n}),window.Promise=window.Promise||i(16).Promise,this.polyfillClosest()},e.enumHasValue=function(e,t){for(var i in e)if(i===t)return!0;return!1},e.polyfillClosest=function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})},e.getViewportSizeGlobal=function(){var e,t,i,r={height:0,width:0};return e=void 0!==window.innerWidth,t=void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth,i=!1===e&&!1===t,e?(r.height=window.innerHeight,r.width=window.innerWidth):t?(r.height=document.documentElement.clientHeight,r.width=document.documentElement.clientWidth):i&&(r.height=document.getElementsByTagName("body")[0].clientHeight,r.width=document.getElementsByTagName("body")[0].clientWidth),r},e.elementInViewport=function(t,i){if(i||(i=0),!t||i<0||i>100)return!1;var r=t.getBoundingClientRect(),n=e.getViewportSizeGlobal().height,o=t.clientHeight,a=Math.round(o*i/100);return a=a>n?n-1:a,r.top+a<=n&&r.bottom-a>=0},e.viewPercentage=function(t){if(!t)return 0;var i=t.getBoundingClientRect(),r=e.getViewportSizeGlobal().height,n=t.clientHeight;if(!n)return 0;var o=i.top,a=i.top+n,s=0;if(o>0){if(o>r)return 0;if(a<r)return 100;s=r-o}else{if(a<0)return 0;s=a>r?r:a}return Math.round(100*s/n)},e.elementPercHeightInViewport=function(t,i,r,n,o){if(void 0===o&&(o="both"),r||(r=0),!t||r<0||r>100)return!1;var a=e.getViewportSizeGlobal().height,s=Math.round(i*r/100);if(s=s>a?a-1:s,n)return t+s<=a&&t+i-s>=0;var l=t+i-s<0,d=t+s>a;switch(o){case"both":return l||d;case"up":return l;case"down":return d}},e.getDocumentUrl=function(){var e=window.location.href;return window.self!==window.top&&(e=window.parent.location.href),e},e.isIframe=function(){try{return window.self!==window.top}catch(e){return console.error(e),!0}},e.toDash=function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})},e.getFormattedDate=function(){var e=function(e){return e>=10?e:"0"+e},t=new Date,i=e(t.getDate()),r=e(t.getMonth()+1),n=e(t.getHours()),o=e(t.getMinutes()),a=e(t.getSeconds()),s=t.getMilliseconds();return[t.getFullYear(),"-",r,"-",i," ",n,":",o,":",a,".",s].join("")},e.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},e.getTextSize=function(t,i){var r=document.createElement("div");r.style.position="absolute",r.style.visibility="hidden",r.style.height="auto",r.style.width="auto",r.style.whiteSpace="nowrap",r.innerHTML=t;var n=["color","fontStyle","lineHeight","fontFamily","fontWeight","padding","margin","border","fontSize","textAlign"];for(var o in n){var a=n[o];i.hasOwnProperty(a)&&(r.style[e.toDash(a)]=i[a])}var s=document.getElementsByTagName("body")[0];s.appendChild(r);var l=r.offsetHeight+1||0,d=r.offsetWidth+1||0;return s.removeChild(r),{height:l,width:d}},e.isVideoPlayingOnPageSync=function(t){switch(t){case"allow":return!1;case"strict":return e.isVideoElementsOnPageStrictMode();case"avoid":default:return e.isVideoPlayingOnPageAvoidMode()}},e.isVideoPlayingOnPageAsync=function(t,i){return r(this,void 0,void 0,function(){return n(this,function(r){return"allow"===t?[2,Promise.resolve(!1)]:[2,e.delay(i).then(function(){return Promise.resolve(e.isVideoPlayingOnPageSync(t))})]})})},e.delay=function(e){return new Promise(function(t){return setTimeout(t,e)})},e.isMobile=function(){return!!/(iphone|ipod|symbian|android|windows ce|blackberry|palm|ipad)/.test(navigator.userAgent.toLowerCase())},e.isWifiConnection=function(){if(!navigator)return!1;var e=navigator.connection;if(e){var t=e.type;if(t&&"unknown"!=t)return"wifi"===t}return!1},e.checkYoutubeElements=function(e){return void 0===e&&(e="strict"),"strict"!==e?!!document.querySelector("iframe[src*='youtube.com'][src*=\"autoplay=1\"], object[data*='youtube.com'][data*=\"autoplay=1\"]"):!!document.querySelector("iframe[src*='youtube.com'], object[data*='youtube.com']")},e.checkVideoElements=function(e){void 0===e&&(e="strict");var t=document.getElementsByTagName("video");if(0===t.length)return!1;if("strict"!==e){for(var i=0;i<t.length;i++){var r=t.item(i);if(r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2)return!0}return!1}return!0},e.checkEmbedElements=function(){return!!document.querySelector("embed[src$='.mov'], embed[src$='.mp4']")},e.isVideoPlayingOnPageAvoidMode=function(){var t=e.checkYoutubeElements("avoid");return t||e.checkVideoElements("avoid")},e.isVideoElementsOnPageStrictMode=function(){var t=e.checkVideoElements("strict");if(t)return t;var i=e.checkYoutubeElements("strict");return i||e.checkEmbedElements()},e.performRandomWithBalance=function(e){var t=0,i=[];if(!e)return null;for(var r in e)t+=e[r],i.push({name:r,balance:e[r]});t<1&&(i[0].balance+=1-t),t>1&&(i[0].balance-=t-1);for(var n=Math.random(),o=0,a=0;o<i.length;o++){var s=i[o];if(n<s.balance+a)return s.name;a+=s.balance}return null},e.waterfall=function(e,t){return this.reducePollyfill.call(e,function(e,i){return e.then(t?i.bind(t):i)},Promise.resolve())},e.reducePollyfill=function(e,t){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var i,r=Object(this),n=r.length>>>0,o=0;if(2==arguments.length)i=arguments[1];else{for(;o<n&&!r.hasOwnProperty(o);)o++;if(o>=n)throw new TypeError("Reduce of empty array with no initial currentValue");i=r[o++]}for(;o<n;o++)o in r&&(i=e(i,r[o],o,r));return i},e.nodeToString=function(e){var t=document.createElement("div");t.appendChild(e.cloneNode(!0));var i=t.innerHTML;return t=e=null,i},e}();t.a=o},function(e,t,i){"use strict";var r=i(5),n=i(11),o=i(0),a=i(9),s=i(12),l=i(1),d=i(3),p=i(2),u=function(){function e(e,t,i,n){void 0===i&&(i=null),void 0===n&&(n=null),this.smartScroll=!1,this.isMobile=!1,this.playerHeight=0,this.playerWrapperHeight=0,this.playerInView=!1,this.isInstream=!1,this.playerPlay=!1,this.widgetElementsHidden=!1,this.playerVisibleFirstTime=!0,this.playerDescriptionHeight=0,this.playerBrandingHeight=0,this.cancelProviderTimeoutDuration=null,this.rejectProviderTimeout=null,this.viewabiltyEventInterval={},this.totalContinuosViewTime=0,this.viewabiltyEventTime=null,this.viewabiltyIntervalTime=100,this.viewabilityPercentageThreshold=0,this.adPaused=!1,this.internalPause=!1,this.bpLoadTime=Date.now(),this.lastEventTime=Date.now(),this.playerState=s.a.none,this.isPlayerOutOfViewport=!1,this.boxSizingOriginal="inherit",this.streamingAdvertisers=[],this.streamingInterval=0,this.streamingQuartile=0,this.streamingTimePassed=0,this.handleStreamingEvent=0,this.providerConfig=e,this.sessionId=t,this.playerIdsPrefix=e.containerID+"_"+e.widgetID+"_",this.playerWrapperElementId=this.playerIdsPrefix+"playerWrapper",this.noVideoCallback=i,this.videoPlayCallback=n,this.viewabiltyEventTime=1e3*this.providerConfig.viewabiltyEventTime,this.viewabilityPercentageThreshold=this.providerConfig.viewabilityPercentageThreshold,this.cancelProviderTimeoutDuration=this.providerConfig.providerTimeout?this.providerConfig.providerTimeout:2e3,this.isMobile=r.a.isMobile(),this.stickyPlayer=this.providerConfig.stickyPlayer,this.streamingQuartile=this.providerConfig.NativeVideoMaxStreamingDuration/4}return e.prototype.getPlayerWrapperElementId=function(){return this.playerWrapperElementId},e.prototype.getPlayerContainerId=function(){return""},e.prototype.destroyPlayer=function(){this.player&&this.player.destroy&&this.player.destroy()},e.prototype.getPlayer=function(){return this.player},e.prototype.getAdCurrentTime=function(){return 0},e.prototype.isValidEvent=function(e){return!!r.a.enumHasValue(this.playerEvents,e)},e.prototype.onEvent=function(e){this.audit({eventType:e,videoProgress:Math.round(this.getAdCurrentTime()/1e3),viewability:this.getCurrentViewability()})},e.prototype.registerEvents=function(){this.registerEvent("onPlay",this.onPlay.bind(this)),this.registerEvent("onLoad",this.onLoad.bind(this)),this.registerEvent("onPause",this.onPause.bind(this)),this.registerEvent("onResume",this.onResume.bind(this)),this.registerEvent("onClose",this.onClose.bind(this)),this.registerEvent("onPlay25",this.onEvent.bind(this,l.a.FirstQuartile)),this.registerEvent("onPlay50",this.onEvent.bind(this,l.a.SecondQuartile)),this.registerEvent("onPlay75",this.onEvent.bind(this,l.a.ThirdQuartile)),this.registerEvent("onPlay100",this.onPlay100.bind(this)),this.registerEvent("onSkip",this.hidePlayer.bind(this)),this.registerEvent("onClick",this.onEvent.bind(this,l.a.Click)),this.registerEvent("onError",this.onError.bind(this)),this.registerEvent("onNoAd",this.onError.bind(this)),this.registerEvent("onUnmute",this.onEvent.bind(this,l.a.Unmute)),this.providerConfig.unMuteOnMouseEnter&&this.handleMuteOnMouseEnter()},e.prototype.onError=function(e){var t=this;this.isInstream||(this.providerConfig.lazyListingsPixel&&((new Image).src=this.providerConfig.lazyListingsPixel),this.playerOutOfViewportLeaveAnimationEffect().then(function(){t.closePlayerNoAd()}))},e.prototype.onPause=function(){"streaming"===this.playerConfig.deliveryMode&&0===this.handleStreamingEvent?(this.adPaused=!1,this.handleStreamingEvent++):(this.adPaused=!0,this.audit({eventType:l.a.Pause,viewability:this.getCurrentViewability()}))},e.prototype.onResume=function(){this.adPaused=!1,this.audit({eventType:l.a.Resume,viewability:this.getCurrentViewability()})},e.prototype.pausePlayer=function(){},e.prototype.resumePlayer=function(){},e.prototype.onClose=function(){this.hidePlayer(!0)},e.prototype.registerEvent=function(e,t){},e.prototype.getPlayerWidth=function(){return this.playerElement.clientWidth},e.prototype.getPlayerHeight=function(){return this.playerHeight},e.prototype.getCurrentPlayerHeight=function(){if(this.playerElement&&this.playerElement.getBoundingClientRect().height)return this.playerElement.getBoundingClientRect().height},e.prototype.buildHeaderHTML=function(){var e,t,i=null,r="";if("string"==typeof this.providerConfig.header)e=this.providerConfig.header,t="inherit",r+='<div id="'+this.playerIdsPrefix+'headerWrapper" class="ob_vid_header" >'+e+"</div>";else{var n=this.playerElement.closest(".ob-widget-section");n&&(i=n.getElementsByClassName("ob-widget-header")[0])&&(e=i.textContent,t=window.getComputedStyle(i,null).getPropertyValue("font-family"),r+='<div id="'+this.playerIdsPrefix+'headerWrapper" class="ob_vid_header">'+e+"</div>")}var o=document.createElement("style");return o.innerHTML=".ob_vid_header {display:none; font-family:"+t+"}",document.body.appendChild(o),r},e.prototype.buildDescriptionHTML=function(){var e="";return(this.providerConfig.title||this.providerConfig.source)&&(e=e+'<div id="'+this.playerIdsPrefix+'titleSrcWrapper">'),this.providerConfig.title&&(e=e+'<div id="'+this.getTitleElementId()+'"><span class="titleStrWrap" style="display: inline-block">'+this.providerConfig.title+"</span></div>"),this.providerConfig.source&&(e=e+'<div id="'+this.playerIdsPrefix+'videoSource"><span class="srcStrWrap" style="display: inline-block">'+this.providerConfig.source+"</span></div>"),(this.providerConfig.title||this.providerConfig.source)&&(e+="</div>"),this.providerConfig.brandingTag&&(e=e+'<div id="'+this.playerIdsPrefix+'videoBranding">'+this.providerConfig.brandingTag+"</div>"),e},e.prototype.getTitleElementId=function(){return this.playerIdsPrefix+"videoTitle"},e.prototype.getSrcElementId=function(){return this.playerIdsPrefix+"videoSource"},e.prototype.getHeaderElementId=function(){return this.playerIdsPrefix+"headerWrapper"},e.prototype.getTitleSrcWrapperElementId=function(){return this.playerIdsPrefix+"titleSrcWrapper"},e.prototype.handleVideoDescription=function(){var e=0,t=0,i=0,n=this.playerElement.querySelector("#"+this.playerIdsPrefix+"videoSource"),a=this.playerElement.querySelector("#"+this.playerIdsPrefix+"videoTitle"),s=this.playerElement.querySelector("#"+this.playerIdsPrefix+"videoBranding .ob_what"),l=this.providerConfig.title||!1,d=this.providerConfig.source||!1;this.playerHeight=this.playerElement.clientHeight;var p=o.a.isEmptyWidget(this.providerConfig.containerID);if(p||!l&&!d)p&&(l&&(e=parseInt(window.getComputedStyle(a,null).getPropertyValue("height"))),d&&(t=parseInt(window.getComputedStyle(n,null).getPropertyValue("height"))));else{var u=d?o.a.getWidgetRecInfo(this.providerConfig,"source"):{},c=l?o.a.getWidgetRecInfo(this.providerConfig,"title"):{},h=["color","fontStyle","lineHeight","fontFamily","fontWeight","padding","border","fontSize","textAlign"];for(var g in h){var y=h[g];d&&u.style.hasOwnProperty(y)&&(n.style[r.a.toDash(y)]=u.style[y]),l&&c.style.hasOwnProperty(y)&&(a.style[r.a.toDash(y)]=c.style[y])}l&&(e=parseInt(c.size.height)),d&&(t=parseInt(u.size.height))}if(null!==s){var v=window.getComputedStyle(s,null);i=parseInt(v.getPropertyValue("height"))+parseInt(v.getPropertyValue("padding-top"))+parseInt(v.getPropertyValue("padding-bottom"))}this.playerDescriptionHeight=e+t,this.playerBrandingHeight=i,this.setMarginWhenDescription(),"inWidget"===this.providerConfig.playerLocation&&(this.playerHeight=this.getProviderPlayerHeight()),this.avoidSliderWhenSmall(),this.playerHeight="sliderAlwaysRight"===this.stickyPlayer?this.providerConfig.sticky.height:this.playerHeight},e.prototype.getProviderPlayerHeight=function(){return this.playerHeight-this.playerDescriptionHeight},e.prototype.setMarginWhenDescription=function(e){void 0===e&&(e=this.playerDescriptionHeight),this.providerConfig.isTopBranding||(e=Math.max(e,this.playerBrandingHeight)),this.playerElement.style.paddingBottom=e+"px",this.playerElement.style.marginBottom=o.a.vidgetBottomMargin+"px"},e.prototype.getPlayerDescriptionHeight=function(){return this.playerDescriptionHeight},e.prototype.handlePlayerWrapperHeight=function(){"inWidget"!==this.providerConfig.playerLocation&&(this.playerWrapperHeight=this.playerElement.clientHeight,this.playerElement.style.height="0px",this.playerElement.style.transition="height 1s")},e.prototype.handleMuteOnMouseEnter=function(){var e=this;this.playerElement.addEventListener("mouseenter",function(t){setTimeout(function(){e.player.unmute()},5)}),this.playerElement.addEventListener("mouseleave",function(t){setTimeout(function(){e.player.mute()},5)})},e.prototype.auditError=function(e){this.audit({eventType:l.a.Error,description:e})},e.prototype.onPlay=function(e){if(this.startViewabilityInterval(),this.clearProviderRejectTimeout(),this.playerPlay=!0,this.isMobile?this.canvasPlayBtn=this.playerElement.querySelector("#play-pause"):this.videoElement=this.playerElement.getElementsByTagName("video")[0],"Aniview"===this.providerConfig.provider&&this.setAniviewCustomePlayer(),this.showPlayer(),this.addResizeEventListener(),"slider"===this.stickyPlayer||"sliderAlwaysRight"===this.stickyPlayer?this.playerViewCallbackActivateSlider():"regular"===this.stickyPlayer&&(this.bindedStartStickyPlayerCallback=this.PlayerViewCallbackActivateRegular.bind(this),window.addEventListener("scroll",this.bindedStartStickyPlayerCallback)),this.providerConfig.loglevel.level>=p.a.DEBUG&&this.playerConfig&&null!=this.playerConfig.pixels)for(var t=0;this.playerConfig.pixels.length>t;t++)this.audit({eventType:l.a.PixelFired,description:this.playerConfig.pixels[t]});this.audit({eventType:l.a.Play,deliveryMode:this.playerConfig.deliveryMode,supplyChain:this.providerConfig.loglevel.level>=1?this.printSellerJsonSerialized():void 0}),"streaming"===this.playerConfig.deliveryMode&&(this.hidePlayerButtons(),this.streamingInterval=setInterval(this.onStreamPlay.bind(this),1e3),this.adPaused=!1)},e.prototype.printSellerJsonSerialized=function(){return this.providerConfig.sellerJsonChain.ver+","+this.providerConfig.sellerJsonChain.complete+"!"+this.providerConfig.sellerJsonChain.nodes[0].asi+","+this.providerConfig.sellerJsonChain.nodes[0].sid+","+this.providerConfig.sellerJsonChain.nodes[0].hp+",,,"},e.prototype.hidePlayerButtons=function(){this.player.hidePlayerButtons()},e.prototype.onStreamPlay=function(){if(!this.adPaused){var e=this.streamingTimePassed;e>=this.streamingQuartile&&e<this.streamingQuartile+1?this.audit({eventType:l.a.FirstQuartile}):e>=2*this.streamingQuartile&&e<2*this.streamingQuartile+1?this.audit({eventType:l.a.SecondQuartile}):e>=3*this.streamingQuartile&&e<3*this.streamingQuartile+1?this.audit({eventType:l.a.ThirdQuartile}):e>=4*this.streamingQuartile&&(this.stopStreamingInterval(),this.onPlay100(this)),this.streamingTimePassed++}},e.prototype.stopStreamingInterval=function(){this.streamingInterval&&window.clearInterval(this.streamingInterval)},e.prototype.startViewabilityInterval=function(){var e=this,t=Math.random();this.viewabiltyEventInterval[t]=window.setInterval(function(){var i=e.getCurrentViewability();!e.adPaused&&i&&i>=e.viewabilityPercentageThreshold?e.totalContinuosViewTime+=e.viewabiltyIntervalTime:e.totalContinuosViewTime=0,e.totalContinuosViewTime>=e.viewabiltyEventTime&&(window.clearInterval(e.viewabiltyEventInterval[t]),e.audit({eventType:l.a.Viewability,viewability:i,description:"viewability percentage threshold: "+e.viewabilityPercentageThreshold}))},this.viewabiltyIntervalTime)},e.prototype.getCurrentViewability=function(){return r.a.viewPercentage(this.playerElement)},e.prototype.onLoad=function(e){this.providerLoad()},e.prototype.addResizeEventListener=function(){var e=this.providerConfig.sticky.sliderPosition;this.playerElement.style.transition=e+" 2s",this.resizeCallback=this.resizePlayer.bind(this),window.addEventListener("resize",this.resizeCallback)},e.prototype.clearResizeEventListener=function(){window.removeEventListener("resize",this.resizeCallback)},e.prototype.resizePlayer=function(){if(this.player){var e=o.a.getUpdatedPlayerDimensions(this.providerConfig),t=e.height;if(null===e)return;this.player.resize?this.player.resize(e.width,t):this.resize(e.width,t),this.playerElement.style.width=e.width,this.playerElement.style.height=t}},e.prototype.onPlay100=function(e){this.playerOutOfViewportLeaveAnimationEffect().then(this.videoCompletedPlaying.bind(this))},e.prototype.videoCompletedPlaying=function(){this.hidePlayer(),this.audit({eventType:l.a.Complete,videoProgress:Math.round(this.getAdCurrentTime()/1e3),viewability:this.getCurrentViewability()})},e.prototype.getTopLeftWidgetPosition=function(){return o.a.getTopLeftPoint(this.providerConfig.containerID,null)},e.prototype.getPlayerTopLeftPosition=function(){return this.playerPlay?this.playerElement.getBoundingClientRect().top:o.a.getPlayerEffectiveTopLeftPosition(this.providerConfig.containerID,this.providerConfig.playerLocation,this.providerConfig.firstIndex)},e.prototype.getPlaceHolderTopLeftPosition=function(){return this.playerPlaceholder.getBoundingClientRect().top},e.prototype.getWidgetHeight=function(){return o.a.getWidgetHeight(this.providerConfig.containerID)},e.prototype.getPlaceholderHeight=function(){return this.playerPlaceholder.getBoundingClientRect().height},e.prototype.showPlayer=function(){var e=this.playerElement.getElementsByTagName("canvas");e&&e.length&&(e[0].style.top="0px"),"inWidget"===this.providerConfig.playerLocation?(this.playerElement.style.visibility="visible",this.playerElement.style.top="0px","sliderAlwaysRight"!==this.stickyPlayer&&(this.widgetElementsHidden=!0,o.a.displayWidgetElements(this.providerConfig.containerID,this.providerConfig.indexes,!1))):(this.playerElement.style.position="relative",this.playerElement.style.top="0px",this.playerElement.style.visibility="visible",this.playerElement.style.display="block",function(){var e=this,t=this;window.setTimeout(function(){var i;i="regular"!==t.stickyPlayer&&"none"!==t.stickyPlayer&&!t.isPlaceholderInView()||"sliderAlwaysRight"===t.stickyPlayer?t.calculatePlayerHeightByPlatform.call(t):t.playerWrapperHeight,!e.isPlayerOutOfViewport&&(t.playerElement.style.height=i+"px")},100)}.bind(this)()),this.providerConfig.onlyVideoWidget||o.a.hideOBBranding(this.providerConfig.containerID)},e.prototype.calculatePlayerHeightByPlatform=function(){return Math[this.isMobile?"min":"max"](this.playerElement.clientHeight,this.providerConfig.sticky.height)},e.prototype.hidePlayer=function(e){var t=this;if(void 0===e&&(e=!1),this.clearResources(),!this.isInstream&&this.player){this.widgetElementsHidden&&o.a.displayWidgetElements(this.providerConfig.containerID,this.providerConfig.indexes,!0),this.playerVisibleFirstTime=!0,this.playerElement.style.height="0px";var i="inWidget"===this.providerConfig.playerLocation?0:1e3,r=Math.round(this.getAdCurrentTime()/1e3);window.setTimeout(function(){t.playerElement.style.display="none",t.playerPlaceholder&&(t.playerPlaceholder.style.display="none"),t.playerPlay=!1,t.widgetElementsHidden=!1,"pause"===t.providerConfig.test?t.playerState===s.a.finished||t.playerState===s.a.none?(t.destroyPlayer(),setTimeout(function(){t.playerElement&&t.playerElement.parentNode&&(t.playerElement.parentNode.removeChild(t.playerElement),t.player=null),t.audit({eventType:l.a.Close,videoProgress:r}),a.a.setNotRunning(t.providerConfig.widgetIdx),t.videoPlayCallback&&t.videoPlayCallback(e)},5)):(t.pausePlayer(),t.audit({eventType:l.a.Close,videoProgress:r}),a.a.setNotRunning(t.providerConfig.widgetIdx),t.videoPlayCallback&&t.videoPlayCallback(e)):(t.destroyPlayer(),setTimeout(function(){t.playerElement&&t.playerElement.parentNode&&(t.playerElement.parentNode.removeChild(t.playerElement),t.player=null),t.audit({eventType:l.a.Close,videoProgress:r}),a.a.setNotRunning(t.providerConfig.widgetIdx),t.videoPlayCallback&&t.videoPlayCallback(e)},5))},i)}},e.prototype.playerViewCallbackActivateSlider=function(){!this.isPlayerPositionInlineWithWidget()&&(this.isPlayerOutOfViewport=!0),this.createPlayerPlaceholder(),this.playerOutOfViewportLeaveAnimationEffect(),"sliderAlwaysRight"===this.stickyPlayer&&this.removeScrollListener(),this.isPlayerPositionInlineWithWidget()&&"slider"===this.stickyPlayer||(this.playerOutOfViewport(),"true"==this.providerConfig.sticky.stickRight&&this.removeScrollListener())},e.prototype.createPlayerPlaceholderWrapper=function(){if("static"===window.getComputedStyle(this.playerElement.parentElement).getPropertyValue("Position")){var e=document.createElement("div");e.setAttribute("class","outbrain-place-holder-wrapper"),e.style.position="relative",this.playerElement.parentNode.insertBefore(e,this.playerElement),e.appendChild(this.playerElement)}},e.prototype.PlayerViewCallbackActivateRegular=function(){var e="belowWidget"===this.providerConfig.playerLocation,t=e?1:this.getWidgetHeight(),i=this.getTopLeftWidgetPosition(),n=this.getTopLeftWidgetPosition()+this.getWidgetHeight()-(this.playerElement?parseInt(this.playerElement.style.height.split("px")[0]):0);r.a.elementPercHeightInViewport(e?n:i,t,30,!0)&&(window.removeEventListener("scroll",this.bindedStartStickyPlayerCallback),this.createPlayerPlaceholder())},e.prototype.createPlayerPlaceholder=function(){this.playerPlaceholder=this.playerElement.cloneNode(!1),this.playerPlaceholder.setAttribute("id","player-place-holder"),this.playerPlaceholder.style.position="absolute",this.playerPlaceholder.style.zIndex="0",this.playerPlaceholder.style.marginBottom="0","sliderAlwaysRight"!==this.stickyPlayer&&(this.playerPlaceholder.style.height=this.playerHeight+"px"),this.playerElement.parentNode.appendChild(this.playerPlaceholder),this.bindedPlaceholderVisibleCallback=this.placeholderVisibilityCallback.bind(this,!0),this.bindedPlaceholderDissapearCallback=this.placeholderVisibilityCallback.bind(this,!1),window.addEventListener("scroll",this.bindedPlaceholderDissapearCallback)},e.prototype.placeholderVisibilityCallback=function(e){if(e){if(this.isPlaceholderInView()){window.removeEventListener("scroll",this.bindedPlaceholderVisibleCallback),window.addEventListener("scroll",this.bindedPlaceholderDissapearCallback),window.addEventListener("scroll",this.bindedViewCallback);var t=this.stickyPlayer;this.stickyPlayer="none",this.resizePlayer(),this.stickyPlayer=t,this.playerInViewport()}}else this.isPlaceholderInView(!1)&&(window.removeEventListener("scroll",this.bindedViewCallback),window.removeEventListener("scroll",this.bindedPlaceholderDissapearCallback),window.addEventListener("scroll",this.bindedPlaceholderVisibleCallback),this.playerOutOfViewport())},e.prototype.avoidSliderWhenSmall=function(){if("none"!==this.stickyPlayer){!this.isMobile&&this.providerConfig.avoidSliderWhenSmall>=document.body.clientHeight&&(this.stickyPlayer="none",this.audit({eventType:l.a.SliderSkipped,description:"Skipped due to screen height limit"}))}},e.prototype.isPlaceholderInView=function(e){void 0===e&&(e=!0);var t=this.getPlaceHolderTopLeftPosition(),i=this.getPlaceholderHeight(),n=this.isMobile?99:15;return r.a.elementPercHeightInViewport(t,i,n,e)},e.prototype.isPlayerPositionInlineWithWidget=function(){var e="belowWidget"===this.providerConfig.playerLocation,t=e?1:this.getWidgetHeight(),i=this.getTopLeftWidgetPosition(),n=this.getTopLeftWidgetPosition()+this.getWidgetHeight()-(this.playerElement?parseInt(this.playerElement.style.height.split("px")[0]):0);return r.a.elementPercHeightInViewport(e?n:i,t,5,!0)},e.prototype.playerInViewport=function(){this.isPlayerOutOfViewport=!1;var e=this.providerConfig.sticky.sliderPosition,t=this.playerHeight,i=document.querySelector("#"+this.playerWrapperElementId);if(i.classList.remove("obSticky"),!this.providerConfig.onlyVideoWidget){o.a.hideOBBranding(this.providerConfig.containerID);var r=i.querySelector("[id*=titleSrcWrapper]");r&&(r.style.maxWidth="none",r.style.display="block")}this.playerPlaceholder.style.position="absolute",this.playerElement.style.position="inWidget"===this.providerConfig.playerLocation?"absolute":"relative",this.playerElement.style.top="0",this.playerElement.style.bottom="0",this.playerElement.style[e]="inherit",this.playerElement.style.height=t+"px",i.style.display="inWidget"===this.providerConfig.playerLocation?"flex":"block",i.style.boxSizing=this.boxSizingOriginal,this.resize(this.playerPlaceholder.clientWidth,this.playerHeight),this.playerElement.style.width=this.playerPlaceholder.style.width,this.playerDescriptionHeight&&this.setMarginWhenDescription(),i.style.paddingTop="0px"},e.prototype.playerOutOfViewport=function(){this.isPlayerOutOfViewport=!0;var e=this.providerConfig.sticky.sliderPosition,t=this.providerConfig.sliderPercentBottom,i=this.providerConfig.sticky.width,r=this.providerConfig.sticky.widthDefault,n=this.providerConfig.sticky.height,o=document.querySelector("#"+this.playerWrapperElementId);if(o.classList.add("obSticky"),o.style.display="block",this.playerElement.style.position="fixed",this.boxSizingOriginal=o.style.boxSizing,o.style.boxSizing="content-box",this.playerPlaceholder.style.position="inWidget"===this.providerConfig.playerLocation?"absolute":"relative",this.adPaused&&this.internalPause&&(this.internalPause=!1,this.resume()),this.isMobile){if(this.playerElement.style.bottom="2px",this.playerElement.style[e]="2px",this.playerElement.style.top="auto",this.providerConfig.title){this.playerElement.querySelector("#"+this.getTitleElementId()).style.fontSize="10px"}var a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),s=a/1.6*(i/r);i=Math.min(a,s),n=i/this.providerConfig.sticky.ratio}else this.playerElement.style.top="auto",this.playerElement.style[e]="2px";this.handleDescriptionInSlider(o,i),this.playerElement.style.bottom=t,this.resize(i,n),this.playerElement.style.width=i+"px",this.playerElement.style.height=n+"px",this.clearResizeEventListener()},e.prototype.handleDescriptionInSlider=function(e,t){var i,r,n=e.querySelector("[id*=headerWrapper]"),a=e.querySelector("[id*=titleSrcWrapper]"),s=document.querySelector("#"+this.providerConfig.containerID+" #"+this.playerWrapperElementId).querySelector(".ob_what");if((s&&this.providerConfig.isTopBranding||n&&""!==n.innerText)&&(this.isMobile?e.style.paddingTop="20px":e.style.paddingTop="30px"),s)if(o.a.showOBBranding(this.providerConfig.containerID),this.isMobile&&s.setAttribute("style",s.getAttribute("style")+"top: auto !important"),this.providerConfig.isTopBranding)s.setAttribute("style",s.getAttribute("style")+"top: 5px !important");else if(a){i=a.getElementsByClassName("titleStrWrap")[0],r=a.getElementsByClassName("srcStrWrap")[0];var l=null;i&&r?l=i.clientWidth>r.clientWidth?i.clientWidth:r.clientWidth:i?l=i.clientWidth:r&&(l=r.clientWidth),l>t-s.clientWidth-5?a.style.display="none":a.style.maxWidth=t-s.clientWidth-5+"px"}},e.prototype.getBrandingWidth=function(){var e=document.querySelector("#"+this.providerConfig.containerID+" #"+this.playerWrapperElementId).querySelector(".ob_what");return e?e.clientWidth+5:0},e.prototype.addStickyDescriptionGeneralStyling=function(){var e=document.createElement("style");e.innerHTML=".obSticky {background:rgba(255,255,255,0.6)}",e.innerHTML+=".obSticky #"+this.getHeaderElementId()+" {display: block !important; position: absolute; } .obSticky #"+this.getHeaderElementId()+" {padding: 0 0 5px 0 !important; margin: 0px 3px 3px 3px !important;}",this.providerConfig.rtlWidget&&(e.innerHTML+=".obSticky #"+this.getHeaderElementId()+" {right: 0}"),document.body.appendChild(e)},e.prototype.addStickyDescriptionStyling=function(){var e=document.createElement("style");e.innerHTML=".obSticky #"+this.getTitleElementId()+", .obSticky .srcStrWrap {font-size:14px !important; line-height:16px !important; padding: 0 !important; font-size:14px !important;margin: 0 !important;}",e.innerHTML+=".obSticky #"+this.getHeaderElementId()+" { top: 5px; } .obSticky #"+this.getHeaderElementId()+" { font-size:14px !important; line-height:17px !important; }",e.innerHTML+=".obSticky #"+this.getTitleSrcWrapperElementId()+" {margin-top:5px !important;}",e.innerHTML+=".obSticky #"+this.playerIdsPrefix+"videoBranding {font-size: 14px; line-height: 14px;}",this.providerConfig.isTopBranding&&(e.innerHTML+=".obSticky #"+this.getHeaderElementId()+" {white-space: nowrap; overflow: hidden; text-overflow: ellipsis;max-width:calc(100% - "+this.getBrandingWidth()+"px);}"),this.providerConfig.rtlWidget?(e.innerHTML+=".obSticky #"+this.getTitleElementId()+", .obSticky #"+this.getSrcElementId()+"{text-align:right !important;} .obSticky #"+this.getTitleSrcWrapperElementId()+"{float:right !important; margin-right: 3px !important;}",e.innerHTML+=".obSticky #"+this.getHeaderElementId()+" {right: 0}"):e.innerHTML+=".obSticky #"+this.getTitleElementId()+", .obSticky #"+this.getSrcElementId()+"{text-align:left !important;} .obSticky #"+this.getTitleSrcWrapperElementId()+"{float:left !important;}",document.body.appendChild(e)},e.prototype.addStickyDescriptionMobileStyling=function(){var e=document.createElement("style");e.innerHTML=".obSticky #"+this.getTitleSrcWrapperElementId()+"{display:none !important;}",e.innerHTML+=".obSticky #"+this.getHeaderElementId()+" { top: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;} .obSticky #"+this.getHeaderElementId()+" { font-size:8px !important; line-height:11px !important; }",this.providerConfig.rtlWidget&&(e.innerHTML+=".obSticky #"+this.getHeaderElementId()+" {right: 0}"),document.body.appendChild(e)},e.prototype.playerOutOfViewportLeaveAnimationEffect=function(){var e=this.providerConfig.sticky.sliderPosition;return"sliderAlwaysRight"===this.stickyPlayer||"none"!==this.stickyPlayer&&this.isPlayerOutOfViewport?(this.playerElement.style[e]="-"+Math.ceil(this.playerElement.clientWidth)+"px",this.waitForAnimationEnd(e)):Promise.resolve("Done")},e.prototype.waitForAnimationEnd=function(e){var t=this;return new Promise(function(i,r){t.playerElement.addEventListener("transitionend",t.animationDone.bind(t,i,r,e))})},e.prototype.animationDone=function(e,t,i,r){var n=r.propertyName;if(this.playerElement.removeEventListener("animationend",this.animationDone.bind(this,e,t,i)),!i||n===i)return e("Animation Done")},e.prototype.playerViewCallback=function(e){var t=this.getPlayerTopLeftPosition(),i=this.getPlayerHeight();e?r.a.elementPercHeightInViewport(t,i,50,!0)?this.playerVisibleFirstTime?(this.playerVisibleFirstTime=!1,this.play()):this.adPaused&&this.internalPause&&(this.internalPause=!1,this.resume()):this.adPaused||this.playerVisibleFirstTime||(this.internalPause=!0,this.pause()):r.a.elementPercHeightInViewport(t,i,50,!0)&&this.playerVisibleFirstTime&&(this.playerVisibleFirstTime=!1,window.removeEventListener("scroll",this.bindedViewCallback),this.play())},e.prototype.pause=function(){this.adPaused=!0,this.player.pause&&this.player.pause()},e.prototype.resume=function(){this.adPaused=!1,this.playerResume()},e.prototype.playerResume=function(){this.player.resume&&this.player.resume()},e.prototype.start=function(){var e=this.providerConfig.playMode;switch("none"!==this.stickyPlayer&&(this.createPlayerPlaceholderWrapper(),this.addStickyDescriptionGeneralStyling(),this.isMobile?this.addStickyDescriptionMobileStyling():this.addStickyDescriptionStyling()),"regular"!==this.stickyPlayer&&"none"!==this.stickyPlayer&&(e=d.a.Load),e){case d.a.View:case d.a.ViewPreload:this.smartScroll=this.providerConfig.smartScroll,this.bindedViewCallback=this.playerViewCallback.bind(this,this.smartScroll),window.addEventListener("scroll",this.bindedViewCallback),this.playerViewCallback(this.smartScroll);break;case d.a.Load:default:this.playerInView=!0,this.play()}},e.prototype.play=function(){this.providerPlay(),this.setProvideTimeout()},e.prototype.setProvideTimeout=function(){var e=this;this.rejectProviderTimeout=window.setTimeout(function(){e.closePlayerNoAd("provider timeout")},this.cancelProviderTimeoutDuration)},e.prototype.providerPlay=function(){this.player.play&&("pause"===this.providerConfig.test?this.playerState===s.a.paused?this.resumePlayer():(this.providerConfig.currentReload>=this.providerConfig.configuredReloadCount?this.playerState=s.a.finished:this.playerState=s.a.running,this.player.play()):this.player.play())},e.prototype.providerLoad=function(){},e.prototype.resize=function(e,t){this.player.resize(e,t)},e.prototype.clearProviderRejectTimeout=function(){window.clearTimeout(this.rejectProviderTimeout)},e.prototype.clearViewabilityInterval=function(){window.clearInterval(this.viewabiltyEventInterval)},e.prototype.clearResources=function(){this.clearProviderRejectTimeout(),this.clearViewabilityInterval(),this.removeScrollListener(),this.clearResizeEventListener()},e.prototype.removeScrollListener=function(){window.removeEventListener("scroll",this.bindedViewCallback),window.removeEventListener("scroll",this.bindedStartStickyPlayerCallback),window.removeEventListener("scroll",this.bindedPlaceholderVisibleCallback),window.removeEventListener("scroll",this.bindedPlaceholderDissapearCallback)},e.prototype.closePlayerNoAd=function(e){var t=this;void 0===e&&(e="no video provided"),this.clearResources(),this.playerElement&&(this.playerElement.style.display="none"),"pause"===this.providerConfig.test?this.playerState===s.a.finished?this.destroyPlayer():this.pausePlayer():this.destroyPlayer(),this.widgetElementsHidden&&o.a.displayWidgetElements(this.providerConfig.containerID,this.providerConfig.indexes,!0),setTimeout(function(){t.playerElement&&t.playerElement.parentNode&&(t.playerElement.parentNode.removeChild(t.playerElement),t.player=null),a.a.setNotRunning(t.providerConfig.widgetIdx),!t.playerPlay&&t.noVideoCallback&&(t.providerConfig.loglevel.level>=1&&t.audit({eventType:l.a.ProviderPass,description:e}),t.noVideoCallback())},5)},e.prototype.audit=function(e){var t=new n.a(this.sessionId,this.providerConfig,this.playerConfig,this.bpLoadTime,this.lastEventTime);t.body=e,t.send(),this.lastEventTime=Date.now()},e.prototype.setAniviewCustomePlayer=function(){if(this.providerConfig.vidgetCustomControls){if(this.providerConfig.vidgetCustomControls.playbackButtons&&this.providerConfig.vidgetCustomControls.playbackButtons.pause){document.querySelector("#av-container #av-inner #gui #buttons #left #play-pause.pause").setAttribute("style",'background-image: url("'+this.providerConfig.vidgetCustomControls.playbackButtons.pause+'")')}if(this.providerConfig.vidgetCustomControls.soundButtons){if(this.providerConfig.vidgetCustomControls.soundButtons.on){var e=document.getElementById("sound");e.style.backgroundImage='url("'+this.providerConfig.vidgetCustomControls.soundButtons.on+'")'}if(this.providerConfig.vidgetCustomControls.soundButtons.off){var e=document.getElementById("sound");e.style.backgroundImage='url("'+this.providerConfig.vidgetCustomControls.soundButtons.off+'")'}}if(this.providerConfig.vidgetCustomControls.adIcon){var t=document.getElementById("aniview-credit");if(t.style.position="relative",this.providerConfig.vidgetCustomControls.adIcon.top&&(t.style.top=this.providerConfig.vidgetCustomControls.adIcon.top),this.providerConfig.vidgetCustomControls.adIcon.left&&(t.style.left=this.providerConfig.vidgetCustomControls.adIcon.left),this.providerConfig.vidgetCustomControls.adIcon.right&&(t.style.right=this.providerConfig.vidgetCustomControls.adIcon.right),this.providerConfig.vidgetCustomControls.adIcon.text&&(t.style.content=this.providerConfig.vidgetCustomControls.adIcon.text),this.providerConfig.vidgetCustomControls.adIcon.font&&(t.style.fontFamily=this.providerConfig.vidgetCustomControls.adIcon.font),this.providerConfig.vidgetCustomControls.adIcon.fontSize&&(t.style.fontSize=this.providerConfig.vidgetCustomControls.adIcon.fontSize),this.providerConfig.vidgetCustomControls.adIcon.color&&(t.style.color=this.providerConfig.vidgetCustomControls.adIcon.color),this.providerConfig.vidgetCustomControls.adIcon.space&&(t.style.textIndent=this.providerConfig.vidgetCustomControls.adIcon.space),this.providerConfig.vidgetCustomControls.adIcon.bottom){t.style.top="unset";for(var i=this.providerConfig.vidgetCustomControls.adIcon.bottom,r=i.split(""),n="",o=0;o<r.length;o++)isNaN(r[o])||(n+=r[o]+"");t.style.bottom=""===n?i:0-(this.playerHeight-t.offsetHeight-10)+"px"}}}},e}();t.a=u},function(e,t,i){"use strict";i.d(t,"d",function(){return r}),i.d(t,"c",function(){return n}),i.d(t,"b",function(){return a}),i.d(t,"a",function(){return o});var r;!function(e){e[e.onLoad="onLoad"]="onLoad",e[e.onReady="onReady"]="onReady",e[e.onPlay="onPlay"]="onPlay",e[e.onPlay25="onPlay25"]="onPlay25",e[e.onPlay50="onPlay50"]="onPlay50",e[e.onPlay75="onPlay75"]="onPlay75",e[e.onPlay100="onPlay100"]="onPlay100",e[e.onSkip="onSkip"]="onSkip",e[e.onPause="onPause"]="onPause",e[e.onResume="onResume"]="onResume",e[e.onMute="onMute"]="onMute",e[e.onUnmute="onUnmute"]="onUnmute",e[e.onClick="onClick"]="onClick",e[e.onClose="onClose"]="onClose",e[e.onError="onError"]="onError"}(r||(r={}));var n;!function(e){e[e.onLoad="adLoad"]="onLoad",e[e.onPlay="adVideoStart"]="onPlay",e[e.onPlay25="adFirstQuartile"]="onPlay25",e[e.onPlay50="adMidpointQuartile"]="onPlay50",e[e.onPlay75="adThirdQuartile"]="onPlay75",e[e.onPlay100="adFinish"]="onPlay100",e[e.onSkip="adSkip"]="onSkip",e[e.onPause="adPaused"]="onPause",e[e.onResume="adPlaying"]="onResume",e[e.onMute="muted"]="onMute",e[e.onUnmute="unMuted"]="onUnmute",e[e.onClick="adClickThru"]="onClick",e[e.onClose="closed"]="onClose",e[e.onError="adRuntimeError"]="onError",e[e.onContentPlay100="contentFinish"]="onContentPlay100",e[e.onContentPlay="contentStart"]="onContentPlay",e[e.onNoAd="adRollEmpty"]="onNoAd"}(n||(n={}));var o;!function(e){e[e.onLoad="AdLoaded"]="onLoad",e[e.onPlay="AdVideoStart"]="onPlay",e[e.onPlay25="AdVideoFirstQuartile"]="onPlay25",e[e.onPlay50="AdVideoMidpoint"]="onPlay50",e[e.onPlay75="AdVideoThirdQuartile"]="onPlay75",e[e.onPlay100="AdVideoComplete"]="onPlay100",e[e.onSkip="AdSkipped"]="onSkip",e[e.onPause="AdPaused"]="onPause",e[e.onResume="AdPlaying"]="onResume",e[e.onMute="mute"]="onMute",e[e.onUnmute="unmute"]="onUnmute",e[e.onClick="AdClickThru"]="onClick",e[e.onClose="AdUserClose"]="onClose",e[e.onContentPlay="AdVideoStart"]="onContentPlay",e[e.onError="AdError"]="onError",e[e.onNoAd="noAd"]="onNoAd"}(o||(o={}));var a;!function(e){e[e.onLoad="playerReady"]="onLoad",e[e.onReady="ready"]="onReady",e[e.onPlay="adstarted"]="onPlay",e[e.onPlay25="adfirstquartile"]="onPlay25",e[e.onPlay50="admidpoint"]="onPlay50",e[e.onPlay75="adthirdquartile"]="onPlay75",e[e.onPlay100="adcomplete"]="onPlay100",e[e.onSkip="adskipped"]="onSkip",e[e.onPause="adpaused"]="onPause",e[e.onResume="adresumed"]="onResume",e[e.onMute="mute"]="onMute",e[e.onUnmute="unmute"]="onUnmute",e[e.onClick="adclick"]="onClick",e[e.onClose="aduserclose"]="onClose",e[e.onError="aderror"]="onError"}(a||(a={}))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var r;!function(e){e.Aniview="Aniview",e.Teads="Teads",e.Vidazoo="Vidazoo",e.OPA="OPA"}(r||(r={}))},function(e,t,i){"use strict";var r=function(){function e(){}return e.isRunning=function(){return e.running},e.getRunningWidgetIdx=function(){return e.widgetIdx},e.setRunning=function(t){e.running=!0,e.widgetIdx.push(t)},e.setNotRunning=function(t){for(var i=0;i<e.widgetIdx.length;i++)e.widgetIdx[i]===t&&e.widgetIdx.splice(i,1);0===e.widgetIdx.length&&(e.running=!1)},e.running=!1,e.widgetIdx=[],e}();t.a=r},function(e,t,i){"use strict";i.d(t,"b",function(){return o}),i.d(t,"a",function(){return a});var r=i(8),n=i(3),o={Prod:"https://videoevents.outbrain.com/events/recordjp",Sim:"https://sim-eventsrecorder.outbrain.com/EventsRecorder/api/events/recordjp"},a=[{name:r.a.Aniview,playMode:n.a.Load,bidFloor:null},{name:r.a.Vidazoo,playMode:n.a.Load,bidFloor:null},{name:r.a.Teads,playMode:n.a.Load,bidFloor:null},{name:r.a.OPA,playMode:n.a.ViewPreload,bidFloor:null}]},function(e,t,i){"use strict";var r=i(26),n=i(9),o=i(1),a=i(10),s=i(3),l=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},d=function(){function e(e,t,i,r,n){this._sessionId=e,this._providerConfig=t||{},this._playerConfig=i||{},this._win=window,this._iframe=t.isIframe,this._firstLoadTime=r,this._lastLoadTime=n,this.auditUrl=this.getAuditUrl(),"function"!=typeof this._win.OB_VidgetAuditCallback&&(this._win.OB_VidgetAuditCallback=this.onAuditResponse.bind(this))}return e.prototype.send=function(){var e=[this.auditUrl,"?json=",encodeURIComponent(JSON.stringify(this.extractAuditParams()))].join("");r.a.jsonp(e,"OB_VidgetAuditCallback")},e.prototype.onAuditResponse=function(e){},e.prototype.getAuditUrl=function(){switch(this._providerConfig.env){case"SIM":case"TEST":return a.b.Sim;case"DEV":case"PROD":default:return a.b.Prod}},e.prototype.getAuditPlayingType=function(){switch(this._providerConfig.playMode){case s.a.Load:return"AUTO_PLAY";case s.a.View:return"VIEW_TO_PLAY";case s.a.ViewPreload:return"VIEW_PRELOAD";default:return"UNKNOWN"}},e.prototype.extractAuditParams=function(){var e={eventType:"",abTestVal:this._providerConfig.abTestVal,adBlocker:this._providerConfig.adBlockStatus,bid:this.getBid(),campaignId:this._playerConfig.campaignId,configuredProvidersCount:this._providerConfig.providersWaterfall?this._providerConfig.providersWaterfall.length:1,configuredReloadCount:this._providerConfig.configuredReloadCount||1,consentData:this._providerConfig.consentData,currentReload:this._providerConfig.currentReload||1,description:"",docId:this._providerConfig.docId,gdpr:this._providerConfig.gdprInt,iframe:this._iframe,localTime:(new Date).toString(),marketerId:this._playerConfig.marketerId,marketerName:this._playerConfig.marketerName,opaBidder:this._playerConfig.adSystem,orientation:this._win.innerHeight>this._win.innerWidth?"PORTRAIT":"LANDSCAPE",partner:this.getPartner(),placementType:this._providerConfig.placementType,playerLocation:this._providerConfig.playerLocation?this._providerConfig.playerLocation:null,playingType:this.getAuditPlayingType(),prebid:!!this._playerConfig.prebid&&this._playerConfig.prebid,provider:this._providerConfig.provider?this._providerConfig.provider.toUpperCase():"UNKNOWN",providerIndex:this._providerConfig.providerIndex||1,publisherId:this._providerConfig.pubID?this._providerConfig.pubID:"10683",runningWidgetIdx:n.a.getRunningWidgetIdx().toString(),screenResolution:[this._win.screen.availHeight,"x",this._win.screen.availWidth].join(""),sessionId:this._sessionId,sourceDocUrl:this._providerConfig.datasrc||this._win.location.href,sourceId:this._providerConfig.sourceId?this._providerConfig.sourceId:"6852067",sourcePvId:this._providerConfig.pageViewId,sourceRequestId:this._providerConfig.reqID,sourceSubWidgetId:this._providerConfig.reportedSubWidgetId,sourceWidgetId:this._providerConfig.reportedWidgetId?this._providerConfig.reportedWidgetId:"AR_1",sticky:this._providerConfig.stickyPlayer,subPlatform:this._providerConfig.inApp?this._providerConfig.inApp?"app":"web":null,timeSinceFirstEvent:Date.now()-this._firstLoadTime||null,timeSincePreviousEvent:Date.now()-this._lastLoadTime||null,trafficType:this._providerConfig.trafficType,videoClickUrl:null,videoDuration:0,videoHeight:parseInt(this._playerConfig.height),videoId:this._playerConfig.videoId,videoMediaUrl:null,videoPlayerId:this._playerConfig.videoPlayerId,videoPositionInWidget:this._providerConfig.index,videoProgress:0,videoVastUrl:null,videoViewablePixels:0,videoWidth:parseInt(this._playerConfig.width),viewability:-1,waterfall:this._providerConfig.providersWaterfall?this._providerConfig.providersWaterfall.toString():null,widgetIdx:this._providerConfig.widgetIdx,externalCampaignId:this._providerConfig.externalCampaignId?this._providerConfig.externalCampaignId:null};return l({},e,this._body)},e.prototype.getBid=function(){if(this._playerConfig.bid&&this._body.eventType===o.a.Play)return this._playerConfig.bid;delete this._playerConfig.bid},e.prototype.getPartner=function(){if(this._playerConfig.partner)return this._playerConfig.partner;delete this._playerConfig.partner},Object.defineProperty(e.prototype,"body",{get:function(){return this._body},set:function(e){this._body=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerConfig",{get:function(){return this._providerConfig},set:function(e){this._providerConfig=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playerConfig",{get:function(){return this._playerConfig},set:function(e){this._playerConfig=e},enumerable:!0,configurable:!0}),e}();t.a=d},function(e,t,i){"use strict";var r;!function(e){e[e.none=0]="none",e[e.running=1]="running",e[e.paused=2]="paused",e[e.finished=3]="finished"}(r||(r={})),t.a=r},function(e,t,i){"use strict";var r=(i(4),i(22)),n=i(25),o=i(23),a=i(24);i.d(t,"a",function(){return r.a}),i.d(t,"b",function(){return n.a}),i.d(t,"c",function(){return o.a}),i.d(t,"d",function(){return a.a})},function(e,t,i){"use strict";var r=function(){function e(){this.obServiceUrl="https://videoclientsservicescalls.outbrain.com/",this.callBackName="",this.win=window,"function"!=typeof window.OB_VidgetServiceCallBack&&(window.OB_VidgetServiceCallBack=this.onObService.bind(this)),this.win.vidgetServiceInstance=void 0!==this.win.vidgetServiceInstance?this.win.vidgetServiceInstance+1:0,this.callBackName="OB_VidgetServiceCallBack"+this.win.vidgetServiceInstance,this.win[this.callBackName]=this.onObService.bind(this)}return e.prototype.gjsonp=function(){return{get:function(e,t,i){var r=i.onSuccess,n=i.onTimeout,o=i.timeout,a=window.setTimeout(function(){window[t]=function(){},n()},1e3*o);window[t]=function(e){window.clearTimeout(a),r(e)};var s=document.createElement("script");document.getElementsByTagName("head")[0].appendChild(s),s.setAttribute("src",e+"&callback="+t)}}},e.prototype.getDocFeatures=function(e,t){var i=this;return new Promise(function(r,n){var o=[i.obServiceUrl,"getDocFeatures","?docId=",e,"&pubId=",t].join("");i.gjsonp().get(o,i.callBackName,{onSuccess:function(e){r(e)},onTimeout:function(){n(new Error("Timeout"))},timeout:3})})},e.prototype.onObService=function(e){},e}(),n=new r;t.a=n},function(e,t){window.VIDGET_VERSION="p.1.0.1.139"},function(e,t,i){(function(t,i){!function(t,i){e.exports=i()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"==typeof e}function n(e){F=e}function o(e){z=e}function a(){return void 0!==H?function(){H(l)}:s()}function s(){var e=setTimeout;return function(){return e(l,1)}}function l(){for(var e=0;e<N;e+=2){(0,J[e])(J[e+1]),J[e]=void 0,J[e+1]=void 0}N=0}function d(e,t){var i=this,r=new this.constructor(u);void 0===r[Y]&&k(r);var n=i._state;if(n){var o=arguments[n-1];z(function(){return T(n,r,o,i._result)})}else I(i,r,e,t);return r}function p(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var i=new t(u);return C(i,e),i}function u(){}function c(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function g(e){try{return e.then}catch(e){return ee.error=e,ee}}function y(e,t,i,r){try{e.call(t,i,r)}catch(e){return e}}function v(e,t,i){z(function(e){var r=!1,n=y(i,t,function(i){r||(r=!0,t!==i?C(e,i):w(e,i))},function(t){r||(r=!0,b(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&n&&(r=!0,b(e,n))},e)}function f(e,t){t._state===$?w(e,t._result):t._state===Z?b(e,t._result):I(t,void 0,function(t){return C(e,t)},function(t){return b(e,t)})}function m(e,t,i){t.constructor===e.constructor&&i===d&&t.constructor.resolve===p?f(e,t):i===ee?(b(e,ee.error),ee.error=null):void 0===i?w(e,t):r(i)?v(e,t,i):w(e,t)}function C(t,i){t===i?b(t,c()):e(i)?m(t,i,g(i)):w(t,i)}function P(e){e._onerror&&e._onerror(e._result),E(e)}function w(e,t){e._state===K&&(e._result=t,e._state=$,0!==e._subscribers.length&&z(E,e))}function b(e,t){e._state===K&&(e._state=Z,e._result=t,z(P,e))}function I(e,t,i,r){var n=e._subscribers,o=n.length;e._onerror=null,n[o]=t,n[o+$]=i,n[o+Z]=r,0===o&&e._state&&z(E,e)}function E(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var r=void 0,n=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],n=t[a+i],r?T(i,r,n,o):n(o);e._subscribers.length=0}}function S(e,t){try{return e(t)}catch(e){return ee.error=e,ee}}function T(e,t,i,n){var o=r(i),a=void 0,s=void 0,l=void 0,d=void 0;if(o){if(a=S(i,n),a===ee?(d=!0,s=a.error,a.error=null):l=!0,t===a)return void b(t,h())}else a=n,l=!0;t._state!==K||(o&&l?C(t,a):d?b(t,s):e===$?w(t,a):e===Z&&b(t,a))}function x(e,t){try{t(function(t){C(e,t)},function(t){b(e,t)})}catch(t){b(e,t)}}function _(){return te++}function k(e){e[Y]=te++,e._state=void 0,e._result=void 0,e._subscribers=[]}function W(){return new Error("Array Methods must be provided an Array")}function V(e){return new ie(this,e).promise}function A(e){var t=this;return new t(M(e)?function(i,r){for(var n=e.length,o=0;o<n;o++)t.resolve(e[o]).then(i,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function B(e){var t=this,i=new t(u);return b(i,e),i}function R(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function D(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=re}var L=void 0;L=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var M=L,N=0,H=void 0,F=void 0,z=function(e,t){J[N]=e,J[N+1]=t,2===(N+=2)&&(F?F(l):X())},U="undefined"!=typeof window?window:void 0,q=U||{},j=q.MutationObserver||q.WebKitMutationObserver,G="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,J=new Array(1e3),X=void 0;X=G?function(){return function(){return t.nextTick(l)}}():j?function(){var e=0,t=new j(l),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}():Q?function(){var e=new MessageChannel;return e.port1.onmessage=l,function(){return e.port2.postMessage(0)}}():void 0===U?function(){try{var e=Function("return this")().require("vertx");return H=e.runOnLoop||e.runOnContext,a()}catch(e){return s()}}():s();var Y=Math.random().toString(36).substring(2),K=void 0,$=1,Z=2,ee={error:null},te=0,ie=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(u),this.promise[Y]||k(this.promise),M(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&w(this.promise,this._result))):b(this.promise,W())}return e.prototype._enumerate=function(e){for(var t=0;this._state===K&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,r=i.resolve;if(r===p){var n=g(e);if(n===d&&e._state!==K)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(i===re){var o=new i(u);m(o,e,n),this._willSettleAt(o,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,i){var r=this.promise;r._state===K&&(this._remaining--,e===Z?b(r,i):this._result[t]=i),0===this._remaining&&w(r,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;I(e,void 0,function(e){return i._settledAt($,t,e)},function(e){return i._settledAt(Z,t,e)})},e}(),re=function(){function e(t){this[Y]=_(),this._result=this._state=void 0,this._subscribers=[],u!==t&&("function"!=typeof t&&R(),this instanceof e?x(this,t):O())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,i=t.constructor;return r(e)?t.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){throw t})}):t.then(e,e)},e}();return re.prototype.then=d,re.all=V,re.race=A,re.resolve=p,re.reject=B,re._setScheduler=n,re._setAsap=o,re._asap=z,re.polyfill=D,re.Promise=re,re})}).call(t,i(17),i(28))},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(e){if(p===setTimeout)return setTimeout(e,0);if((p===i||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function o(e){if(u===clearTimeout)return clearTimeout(e);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function a(){y&&h&&(y=!1,h.length?g=h.concat(g):v=-1,g.length&&s())}function s(){if(!y){var e=n(a);y=!0;for(var t=g.length;t;){for(h=g,g=[];++v<t;)h&&h[v].run();v=-1,t=g.length}h=null,y=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function d(){}var p,u,c=e.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:i}catch(e){p=i}try{u="function"==typeof clearTimeout?clearTimeout:r}catch(e){u=r}}();var h,g=[],y=!1,v=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];g.push(new l(e,t)),1!==g.length||y||n(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=d,c.addListener=d,c.once=d,c.off=d,c.removeListener=d,c.removeAllListeners=d,c.emit=d,c.prependListener=d,c.prependOnceListener=d,c.listeners=function(e){return[]},c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,t,i){"use strict";var r=i(6),n=i(0),o=i(7),a=i(12),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),l=window,d=function(e){function t(t,i,r,n){var a=e.call(this,t,i,r,n)||this;return a.timelineUpdate=!1,a.isInstream=!!a.providerConfig.instream,a.playerEvents=o.d,a.preparePlayerElement(),a}return s(t,e),t.prototype.createPlayer=function(){this.playerElement?(this.extractPlayerConfig(),this.player=new l.avPlayer(this.playerConfig),this.registerEvents()):(this.auditError("No Player Element created."),this.closePlayerNoAd("No Player Element created."))},t.prototype.extractPlayerConfig=function(){var e=this.providerConfig.reportedSubWidgetId?this.providerConfig.reportedWidgetId+"#"+this.providerConfig.reportedSubWidgetId:this.providerConfig.reportedWidgetId,t=[];this.providerConfig.inApp&&(t.push(""),"android"===this.providerConfig.platform&&(this.providerConfig.packageName&&t.push("AV_APPPKGNAME="+this.providerConfig.packageName),this.providerConfig.playStoreUrl&&t.push("AV_APPSTOREURL="+this.providerConfig.playStoreUrl)),"ios"===this.providerConfig.platform&&(this.providerConfig.bundleId&&t.push("AV_APPPKGNAME="+this.providerConfig.bundleId),this.providerConfig.appStoreUrl&&t.push("AV_APPSTOREURL="+this.providerConfig.appStoreUrl)),this.providerConfig.mobileUserId&&t.push("AV_IDFA="+this.providerConfig.mobileUserId),this.providerConfig.appCategory&&t.push("AV_CATEGORY="+this.providerConfig.appCategory),this.providerConfig.appName&&t.push("AV_APPNAME="+this.providerConfig.appName));var i=this.providerConfig.sellerJsonChain,r=i.ver+","+i.complete+"!"+i.nodes[0].asi+","+i.nodes[0].sid+","+i.nodes[0].hp+",,,";this.playerConfig={loglevel:this.providerConfig.loglevel.level>=1?10:void 0,publisherId:this.providerConfig.publisherId,videoPlayerId:"Aniview",channelId:this.providerConfig.channelId,width:this.playerElement.style.width.split("px")[0],height:this.playerHeight,HD:!0,errorlimit:parseInt(this.providerConfig.errorLimit),ref1:"AV_SUBID="+this.providerConfig.pubID+"&AV_CDIM1="+e+"&AV_UID="+this.providerConfig.reqID+"&AV_CDIM2="+this.providerConfig.abTestVal+"&AV_CDIM3="+this.providerConfig.sourceId+"&AV_CDIM4="+this.providerConfig.placementType+"&AV_SCHAIN="+r+t.join("&"),adServerDomain:"observe.aniview.com",baseJsUrl:"https://player.aniview.com/script/6.1/",soundButton:!0,pauseButton:!0,logo:!1,vastRetry:1,maxrun:parseInt(this.providerConfig.maxRetries),position:this.getPlayerContainerId(),loop:!0===this.providerConfig.instream,closeButton:this.providerConfig.closeButton,noifsnd:!0,updatewaterfall:this.providerConfig.loglevel.level>=1?function(e){if(e)for(var t=0;t<e.length;t++)try{console.log("Aniview extra log:"+e[t].url)}catch(e){}}:void 0,customLogo:this.providerConfig.vidgetCustomControls&&this.providerConfig.vidgetCustomControls.adIcon?{link:this.providerConfig.vidgetCustomControls.adIcon.link,height:this.providerConfig.vidgetCustomControls.adIcon.height,width:this.providerConfig.vidgetCustomControls.adIcon.width,text:this.providerConfig.vidgetCustomControls.adIcon.text,clickthrough:this.providerConfig.vidgetCustomControls.adIcon.clickthrough}:void 0},this.providerConfig.instream&&(this.playerConfig.preloader={type:"content",link:this.providerConfig.preloaderLink,poster:"",clickthrough:""},this.playerConfig.midrolldelay=10,this.playerConfig.midrolltime=10,this.playerConfig.maxrun=void 0)},t.prototype.getPlayerContainerId=function(){return this.playerIdsPrefix+"aniplayer"},t.prototype.preparePlayerElement=function(){if(this.providerConfig.containerID&&(this.playerElement=n.a.createPlayerWrapperElement(this.providerConfig),this.playerElement)){var e=this.providerConfig.ctaText&&this.providerConfig.ctaText.length?'<div class="more-btn" id="'+this.playerIdsPrefix+'more-btn">'+this.providerConfig.ctaText+"</div>":"",t=this.buildHeaderHTML(),i=this.buildDescriptionHTML(),r="";this.providerConfig.vidgetCustomControls&&(r=this.setAniviewPlayerStyle()),this.playerElement.innerHTML=r+t+'<div id="'+this.playerIdsPrefix+'aniAnimation" class="aniAnimationOpen"><div id="'+this.playerIdsPrefix+'aniviewBox"><div id="'+this.playerIdsPrefix+'aniplayer"></div><div id="'+this.playerIdsPrefix+'aniplayerbut" style="display:none">'+e+"</div></div></div>"+i,this.handlePlayerButtons(),this.handleVideoDescription(),this.handlePlayerWrapperHeight()}},t.prototype.handlePlayerButtons=function(){var e=(this.playerElement.querySelector("#"+this.playerIdsPrefix+"aniplayerbut"),this.playerElement.querySelector("#"+this.playerIdsPrefix+"more-btn")),t=this.playerElement.querySelector("#"+this.playerIdsPrefix+"aniAnimation"),i=document.createElement("div");e&&(e.style.cssText="position:absolute;bottom:60px;right:0;padding:0 12px;height:32px;background-color:#323232;background-color:rgba(0,0,0,.4);color:#fff;font-family:Helvetica,Arial,fallback,sans-serif;font-size:14px;text-align:center;text-transform:uppercase;line-height:32px;border-color:#fff;border-style:solid;border-width:1px 0 1px 1px;-webkit-transition:all .15s ease-in-out;-moz-transition:all .15s ease-in-out;-o-transition:all .15s ease-in-out;transition:all .15s ease-in-out"),t&&(t.style.height=Node.clientHeight-3+"px",i.id=this.playerIdsPrefix+"aniAnimation_close",t.appendChild(i))},t.prototype.setAniviewPlayerStyle=function(){if(this.providerConfig.vidgetCustomControls){var e="<style>";if(this.providerConfig.vidgetCustomControls.playbackButtons&&this.providerConfig.vidgetCustomControls.playbackButtons.play&&(e+=this.providerConfig.vidgetCustomControls.playbackButtons.play?'#av-container #av-inner #gui #buttons #left #play-pause.play {background-image: url("'+this.providerConfig.vidgetCustomControls.playbackButtons.play+'") !important;}':""),this.providerConfig.vidgetCustomControls.adIcon&&(e+="#aniview-credit {display: inline !important; position: relative !important; } ",(this.providerConfig.vidgetCustomControls.adIcon.height||this.providerConfig.vidgetCustomControls.adIcon.height.width)&&(e+="#aniview-credit span{",this.providerConfig.vidgetCustomControls.adIcon.height&&(e+="height: "+this.providerConfig.vidgetCustomControls.adIcon.height+" !important;"),this.providerConfig.vidgetCustomControls.adIcon.width&&(e+="width: "+this.providerConfig.vidgetCustomControls.adIcon.width+" !important;"),e+="} ")),this.providerConfig.vidgetCustomControls.closeButton){if(e+="#av-container #close-btn {",this.providerConfig.vidgetCustomControls.closeButton.marginLeft){e+="margin-left: "+this.providerConfig.vidgetCustomControls.closeButton.marginLeft+" !important;";e+="right: "+(this.providerConfig.vidgetCustomControls.closeButton.marginRight||0)+" !important;"}else this.providerConfig.vidgetCustomControls.closeButton.marginRight&&(e+="margin-right: "+this.providerConfig.vidgetCustomControls.closeButton.marginRight+" !important;");this.providerConfig.vidgetCustomControls.closeButton.marginTop&&(e+="margin-top: "+this.providerConfig.vidgetCustomControls.closeButton.marginTop+" !important;"),this.providerConfig.vidgetCustomControls.closeButton.borderStyle&&(e+="border-style: "+this.providerConfig.vidgetCustomControls.closeButton.borderStyle+" !important;"),this.providerConfig.vidgetCustomControls.closeButton.borderColor&&(e+="border-color: "+this.providerConfig.vidgetCustomControls.closeButton.borderColor+" !important;"),this.providerConfig.vidgetCustomControls.closeButton.borderWidth&&(e+="border-width: "+this.providerConfig.vidgetCustomControls.closeButton.borderWidth+" !important;"),this.providerConfig.vidgetCustomControls.closeButton.borderRadius&&(e+="border-radius: "+this.providerConfig.vidgetCustomControls.closeButton.borderRadius+" !important;"),this.providerConfig.vidgetCustomControls.closeButton.padding&&(e+="padding: "+this.providerConfig.vidgetCustomControls.closeButton.padding+" !important;"),this.providerConfig.vidgetCustomControls.closeButton.transform&&(e+="transform: "+this.providerConfig.vidgetCustomControls.closeButton.transform+" !important;"),e+="} "}return e+="</style>"}return""},t.prototype.registerEvent=function(e,t){this.isValidEvent(e)&&(this.player[this.playerEvents[e]]=t)},t.prototype.onPlay=function(t){this.playerConfig.videoId=t.asid;var i=this.playerElement.querySelector("#"+this.playerIdsPrefix+"aniplayerbut"),r=this.playerElement.querySelector("#"+this.playerIdsPrefix+"more-btn"),n=this.playerElement.querySelector("#"+this.playerIdsPrefix+"aniAnimation");"NOCNTRL"==t.ops?(this.timelineUpdate=!0,this.player.updateGui({playPause:!1,sound:!1,showTimeline:!1})):this.timelineUpdate&&(this.timelineUpdate=!1,this.player.updateGui({playPause:!0,sound:!0,showTimeline:!0})),t.clickThrough&&(i.style.display="block",r&&(r.onclick=function(){window.open(t.clickThrough)})),n.style.top="",n.style.position="",t&&t.tagInfo&&("pb"===t.tagInfo.type?(this.playerConfig.bid=t.tagInfo.bidCpm,this.playerConfig.partner=t.tagInfo.platform,this.playerConfig.prebid=!0):this.playerConfig.prebid=!1),e.prototype.onPlay.call(this,t)},t.prototype.onError=function(e){e&&e.errorlimit&&!this.isInstream?(this.providerConfig.lazyListingsPixel&&((new Image).src=this.providerConfig.lazyListingsPixel),this.closePlayerNoAd()):this.playerPlay&&(this.auditError("Error during Aniview player play"),this.hidePlayer())},t.prototype.destroyPlayer=function(){this.player&&(this.player.onClose=null,this.player.onPause=null,this.player.close())},t.prototype.getAdCurrentTime=function(){var e=0;return 1e3*(e=this.player.getAdDuration()-this.player.getAdRemainingTime()||e)},t.prototype.pausePlayer=function(){this.pauseAnivewPlayer()},t.prototype.resumePlayer=function(){this.resumeAniviewPlayer()},t.prototype.pauseAnivewPlayer=function(){this.player.setWaterfallState(!1,!1),this.playerState=a.a.paused},t.prototype.resumeAniviewPlayer=function(){this.player.setWaterfallState(!0,!0),this.playerState=a.a.running},t}(r.a);t.a=d},function(e,t,i){"use strict";var r=i(6),n=i(0),o=i(7),a=i(1),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),l=window,d=function(e){function t(t,i,r,n){var a=e.call(this,t,i,r,n)||this;return a.playerInitPromise=null,a.preparePlayerElement(),a.outbrainPlayerElement=document.getElementById(a.getPlayerContainerId()),a.playerEvents=o.b,a.extractPlayerConfig(),a}return s(t,e),t.prototype.createPlayer=function(){this.playerElement?(this.addVideoDataToConfig(),this.player=new l.OutbrainMP(this.getPlayerContainerId()),this.audit({eventType:a.a.Ready}),this.initPlayer(),this.registerEvents()):this.closePlayerNoAd("No Player Element created.")},t.prototype.addVideoDataToConfig=function(){this.playerConfig&&(this.playerConfig.vastXML=this.providerConfig.vastXML,this.playerConfig.pixels=this.providerConfig.pixels,this.playerConfig.marketerId=this.providerConfig.advId,this.playerConfig.marketerName=this.providerConfig.advName,this.playerConfig.campaignId=this.providerConfig.campaignId,this.playerConfig.outstream=!0,this.playerConfig.customControls=JSON.stringify(this.providerConfig.vidgetCustomControls),this.playerConfig.containerId=this.providerConfig.containerID+"_"+this.providerConfig.widgetID)},t.prototype.getVastXML=function(e){return fetch(e).then(function(e){return e.text()})},t.prototype.extractPlayerConfig=function(){this.playerConfig={relativeSize:!0,autoPlay:!1,muted:!0,videoPlayerId:"Outbrain",showClose:this.providerConfig.closeButton}},t.prototype.initPlayer=function(){var e=this;this.playerInitPromise=new Promise(function(t,i){e.player.init(e.playerConfig),e.outbrainPlayerElement.addEventListener("ready",function(){t("ready")})})},t.prototype.preparePlayerElement=function(){if(this.providerConfig.containerID&&(this.playerElement=n.a.createPlayerWrapperElement(this.providerConfig),this.playerElement)){var e=this.buildHeaderHTML(),t=this.buildDescriptionHTML();this.playerElement.innerHTML=e+' <div id="'+this.playerIdsPrefix+'omp"></div> '+t,this.handleVideoDescription(),this.handlePlayerWrapperHeight()}},t.prototype.registerEvent=function(e,t){this.isValidEvent(e)&&this.outbrainPlayerElement.addEventListener(this.playerEvents[e],t)},t.prototype.getPlayerContainerId=function(){return this.playerIdsPrefix+"omp"},t.prototype.providerPlay=function(){var e=this;this.playerInitPromise.then(function(){e.playerConfig.adSystem=e.player.getAdSystem(),e.playerConfig.deliveryMode=e.player.getAdDeliveryType(),e.player.play(),e.player.resize()})},t.prototype.getAdCurrentTime=function(){var e=0;return e=this.player.getAdCurrentTime()||e},t.prototype.hidePlayerButtons=function(){this.outbrainPlayerElement.querySelector("#omp-footer").style.display="none"},t}(r.a);t.a=d},function(e,t,i){"use strict";var r=i(6),n=i(0),o=i(7),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=function(e){function t(t,i,r,n){var a=e.call(this,t,i,r,n)||this;return a.isResized=!1,a.preparePlayerElement(),a.setPlayerConfig(),a.playerEvents=o.a,a}return a(t,e),t.prototype.preparePlayerElement=function(){if(this.providerConfig.containerID&&(this.playerElement=n.a.createPlayerWrapperElement(this.providerConfig),this.playerElement)){var e=this.buildHeaderHTML(),t=this.buildDescriptionHTML();this.playerElement.innerHTML=e+' <div id="'+this.playerIdsPrefix+'teadsplayer"></div> '+t,this.handleVideoDescription(),this.handlePlayerWrapperHeight()}},t.prototype.getPlayerContainerId=function(){return this.playerIdsPrefix+"teadsplayer"},t.prototype.setPlayerConfig=function(){this.playerConfig={videoPlayerId:"Teads",width:this.playerElement.style.width.split("px")[0],height:this.playerHeight,HD:!0}},t.prototype.createPlayer=function(e){this.player=e,this.registerEvents()},t.prototype.registerEvent=function(e,t){this.isValidEvent(e)&&this.player[this.playerEvents[e]].push(function(){t()})},t.prototype.onPlay=function(t){this.player&&this.player.pubCPM?(this.playerConfig.bid=this.player.pubCPM,this.playerConfig.partner="teads",this.playerConfig.prebid=!0):this.playerConfig.prebid=!1,e.prototype.onPlay.call(this,t)},t.prototype.destroyPlayer=function(){},t.prototype.providerLoad=function(){this.showPlayer()},t.prototype.handlePlayerWrapperHeight=function(){"inWidget"!==this.providerConfig.playerLocation&&(this.playerWrapperHeight=parseInt(this.playerElement.style.height.split("px")[0]),this.playerElement.style.transition="unset")},t.prototype.resize=function(e,t){var i=this.playerElement,r=i.querySelector("#"+this.getPlayerContainerId()),n=r.querySelector(".teads-inread"),o=n.querySelector("iframe");n.style.height=t+"px",n.style.maxWidth=e+"px",o.style.height=t+"px",o.style.maxHeight=t+"px",o.style.width=e+"px",this.isResized||(this.isResized=!0,this.resize(e,t))},t}(r.a);t.a=s},function(e,t,i){"use strict";var r=i(6),n=i(0),o=i(7),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=function(e){function t(t,i,r,n){var a=e.call(this,t,i,r,n)||this;return a.playerInitPromise=null,a.preparePlayerElement(),a.setPlayerConfig(),a.playerEvents=o.c,a}return a(t,e),t.prototype.preparePlayerElement=function(){if(this.providerConfig.containerID&&(this.playerElement=n.a.createPlayerWrapperElement(this.providerConfig),this.playerElement)){var e=this.buildHeaderHTML(),t=this.buildDescriptionHTML();this.playerElement.innerHTML=e+' <div id="'+this.playerIdsPrefix+'vidplayer"></div> '+t,this.handleVideoDescription(),this.handlePlayerWrapperHeight()}},t.prototype.getPlayerContainerId=function(){return this.playerIdsPrefix+"vidplayer"},t.prototype.setPlayerConfig=function(){this.playerConfig={videoPlayerId:"Vidazoo",width:this.playerElement.style.width.split("px")[0],HD:!0}},t.prototype.createPlayer=function(e){this.playerElement?(this.player=e,this.registerEvents(),this.playerInitPromise=this.player.init()):(this.auditError("No Player Element created."),this.closePlayerNoAd("No Player Element created."))},t.prototype.registerEvent=function(e,t){this.isValidEvent(e)&&this.player.on(this.playerEvents[e],t)},t.prototype.onNoAd=function(){this.closePlayerNoAd(this.noVideoCallback)},t.prototype.destroyPlayer=function(){this.player&&this.player.destroy()},t.prototype.onPlay=function(t){t&&t.tag&&"pre_bid"==t.tag.type?(this.playerConfig.prebid=!0,this.playerConfig.bid=t.price,this.playerConfig.partner=t.tag.partnerTagId):this.playerConfig.prebid=!1,e.prototype.onPlay.call(this,t)},t.prototype.playerResume=function(){this.player.play()},t.prototype.providerPlay=function(){var e=this;this.playerInitPromise.then(function(){e.player.start()})},t.prototype.isPaused=function(){return this.player.isPaused()},t.prototype.resize=function(e,t){this.player.resize(e,t,!0)},t.prototype.getAdCurrentTime=function(){var e=0;return 1e3*(e=this.player.getAdTime()||e)},t}(r.a);t.a=s},function(e,t,i){"use strict";var r=i(4),n=i(18),o=i(0),a=i(2),s=i(1),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),d=window,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.provide=function(){var e=this;return new Promise(function(t,i){e.waterfallContinue=t,e.waterfallStop=i,e.trackInit(),e.videoProviderConfig.instream?e.handleInstream(e.waterfallContinue):e.handleOutstream(e.waterfallContinue)})},t.prototype.handleOutstream=function(e){this.audit({eventType:s.a.Verbose,description:"handleOutstream()"},a.a.VERBOSE),this.player=new n.a(this.videoProviderConfig,this.sessionId,this.waterfallContinue,this.waterfallStop),this.downloadAniviewScript(e)},t.prototype.handleInstream=function(e){var t=this,i=new XMLHttpRequest,r=function(){var r=JSON.parse(i.responseText);t.videoProviderConfig.preloaderLink=r.data.Vurls,t.player=new n.a(t.videoProviderConfig,t.sessionId,this.waterfallContinue,this.waterfallStop),t.downloadAniviewScript(e)};i.addEventListener("load",r),i.open("GET","https://s3.amazonaws.com/test.wibbitz.com/boom/wibbitz-videos-en.json"),i.send()},t.prototype.downloadAniviewScript=function(e){var i=this;if(this.audit({eventType:s.a.Verbose,description:"downloadAniviewScript()"},a.a.VERBOSE),d.avPlayer)this.audit({eventType:s.a.Verbose,description:"downloadAniviewScript() = > Aniview script already loaded in page"},a.a.VERBOSE),this.onAniviewLoaded();else{this.audit({eventType:s.a.Verbose,description:"Loading Aniview provider"},a.a.VERBOSE);var r=document.createElement("script");r.src=t.playerProviderUrl,r.onload=this.onAniviewLoaded.bind(this),r.onerror=function(){i.videoProviderConfig.adBlockStatus?i.audit({eventType:s.a.Canceled,description:"Ad blocker enabled"},a.a.INFO):i.audit({eventType:s.a.Canceled,description:"Aniview provider failed to load"},a.a.INFO),e()},document.getElementsByTagName("head")[0].appendChild(r)}},t.prototype.audit=function(e,t){o.a.auditServiceEvent(e,this.videoProviderConfig,null,t)},t.prototype.onAniviewLoaded=function(){this.player.createPlayer(),this.player.getPlayer()&&this.player.start()},t.prototype.trackInit=function(){t.initTracked||(t.initTracked=!0,(new Image).src="https://track.aniview.com/track?pid="+this.videoProviderConfig.pubID+"&cid="+this.videoProviderConfig.channelId+"&e=playerLoaded&cb="+Date.now())},t.prototype.updateExtraProviderSettings=function(){e.prototype.updateExtraProviderSettings.call(this),this.videoProviderConfig.maxRetries=this.videoProviderConfig.retries||2},t.playerProviderUrl="https://player.aniview.com/script/6.1/aniview.js",t.initTracked=!1,t}(r.a);t.a=p},function(e,t,i){"use strict";var r=i(4),n=i(19),o=i(0),a=i(2),s=i(1),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.vast=null,t}return l(t,e),t.prototype.provide=function(){var e=this;return new Promise(function(t,i){e.isDemoPage=new URLSearchParams(location.search).get("urlVast"),e.waterfallContinue=t,e.waterfallStop=i,e.player=new n.a(e.videoProviderConfig,e.sessionId,e.waterfallContinue,e.waterfallStop),e.isDemoPage?e.fakeVastVideo(e.isDemoPage):e.lookupRTBVideo(e.waterfallContinue)})},t.prototype.fakeVastVideo=function(e){fetch(e).then(function(e){return e.text()}).then(this.vastMock.bind(this)).then(this.onOutbrainRtbReponse.bind(this,function(){}))},t.prototype.vastMock=function(e){return{doc:[{video:{vastxml:e},advId:"00000",adv_name:"Demo Page"}]}},t.prototype.downloadOutbrainPlayerScript=function(e){var i=this,r=document.createElement("script");r.src=t.playerProviderUrl,r.onload=this.onPlayerScriptLoaded.bind(this),r.onerror=function(){i.videoProviderConfig.adBlockStatus?i.audit({eventType:s.a.Canceled,description:"Ad blocker enabled"},a.a.INFO):i.audit({eventType:s.a.Canceled,description:"OPA provider failed to load"},a.a.INFO),e()},document.getElementsByTagName("head")[0].appendChild(r)},t.prototype.onPlayerScriptLoaded=function(){this.player.createPlayer(),this.player.getPlayer()&&this.player.start()},t.prototype.onOutbrainRtbReponse=function(e,t){var i=this.getRtbDataFromRespone(t);i?(this.videoProviderConfig.vastXML=i.vastXML,this.videoProviderConfig.pixels=i.pixels,this.videoProviderConfig.advId=i.advId,this.videoProviderConfig.advName=i.advName,this.videoProviderConfig.campaignId=i.campaignId,this.downloadOutbrainPlayerScript(e)):this.player.closePlayerNoAd()},t.prototype.getRtbDataFromRespone=function(e){var t=null,i=e.doc;if(i&&i[0]){var r=i[0].video;r&&(t={vastXML:r.vastxml,pixels:i[0].pixels,advId:i[0].advId,advName:i[0].adv_name,campaignId:i[0].campaign_id})}return t},t.prototype.lookupRTBVideo=function(e){var t={permalink:this.videoProviderConfig.datasrc,widgetId:this.videoProviderConfig.widgetID,rtbEnabled:!0,servePc:!0,num:"1",maxNumAds:"1",recMode:"odb_video",maxNumOrganicRecs:"0",fId:this.videoProviderConfig.fid?this.videoProviderConfig.fid.toString():null,feedFatherIdx:this.videoProviderConfig.fIndex?this.videoProviderConfig.fIndex.toString():null,videoWidth:this.player.getPlayerWidth()?this.player.getPlayerWidth().toString():null,videoHeight:this.player.getPlayerHeight()?this.player.getPlayerHeight().toString():null,delivery:this.videoProviderConfig.vidgetDeliveryMode,videoPlaybackMethod:this.isWidgetInView()?"inView":"autoPlay"};o.a.odbCall(t,this.onOutbrainRtbReponse.bind(this,e))},t.prototype.audit=function(e,t){o.a.auditServiceEvent(e,this.videoProviderConfig,null,t)},t.prototype.updateExtraProviderSettings=function(){e.prototype.updateExtraProviderSettings.call(this),this.videoProviderConfig.trafficType=9},t.playerProviderUrl="https://libs.sphere.com/video/outbrain-player/current/omp.min.js",t}(r.a);t.a=d},function(e,t,i){"use strict";var r=i(4),n=i(20),o=i(0),a=i(2),s=i(1),l=i(3),d=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),p=window,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.provide=function(){var e=this;return new Promise(function(t,i){return e.waterfallContinue=t,e.waterfallStop=i,e.player=new n.a(e.videoProviderConfig,e.sessionId,e.waterfallContinue,e.waterfallStop),!e.videoProviderConfig.allowParallelInview&&e.checkForTeadsOnPage()?void e.player.closePlayerNoAd("Teads player already on page"):void 0===e.videoProviderConfig.tagId||""===e.videoProviderConfig.tagId?void e.player.closePlayerNoAd("Wrong Teads tagId = "+e.videoProviderConfig.tagId):void(e.videoProviderConfig.playMode===l.a.View?e.checkForAppendingPlayer(e.getPlayerContainerElement()).then(e.downloadTeadsScript.bind(e,e.waterfallContinue)).catch(function(e){return console.log("ERROR to play Teads: ",e)}):e.downloadTeadsScript(e.waterfallContinue))})},t.prototype.checkForTeadsOnPage=function(){return!!document.querySelector(".teads, .teads-inread")},t.prototype.downloadTeadsScript=function(e){var i=this,r=document.createElement("script");r.src=t.playerProviderUrl.replace("#ID",this.videoProviderConfig.tagId),r.className="teads teads"+this.videoProviderConfig.widgetIdx,r.setAttribute("data-ob-"+this.videoProviderConfig.tagId,this.videoProviderConfig.widgetIdx),r.async=!0,r.onload=this.onTeadsLoaded.bind(this),r.onerror=function(){i.videoProviderConfig.adBlockStatus?i.audit({eventType:s.a.Canceled,description:"Ad blocker enabled"},a.a.INFO):i.audit({eventType:s.a.Canceled,description:"Teads provider failed to load"},a.a.INFO),e()},this.getPlayerContainerElement().appendChild(r)},t.prototype.audit=function(e,t){o.a.auditServiceEvent(e,this.videoProviderConfig,null,t)},t.prototype.checkForAppendingPlayer=function(e){var t=this;return new Promise(function(i){new IntersectionObserver(function(e,r){return t.playerContainerElementLoaded(i,r,e)}).observe(e)})},t.prototype.playerContainerElementLoaded=function(e,t,i){if(i[0].intersectionRatio>0)return t.disconnect(),e(!0)},t.prototype.onTeadsLoaded=function(){var e=this,t=setInterval(function(){var i=p["teadsObj"+e.videoProviderConfig.widgetIdx]||p.teadsObj;i&&(clearInterval(t),e.player.createPlayer(i),e.player.start(),e.setUiPlayer.call(e))},20)},t.prototype.getPlayerContainerElement=function(){return document.getElementById(this.player.getPlayerContainerId())},t.prototype.setUiPlayer=function(){var e=this.player.playerElement,t=e.querySelector("#"+this.player.getPlayerContainerId());e.style.background="none",t.style.marginTop="unset"},t.playerProviderUrl="//a.teads.tv/page/#ID/tag",t}(r.a);t.a=u},function(e,t,i){"use strict";var r=i(4),n=i(21),o=i(0),a=i(2),s=i(1),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),d=window,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.provide=function(){var e=this;return new Promise(function(t,i){e.waterfallContinue=t,e.waterfallStop=i,e.player=new n.a(e.videoProviderConfig,e.sessionId,e.waterfallContinue,e.waterfallStop),e.extractVidazooBootstrapConfig(),e.downloadVidazooScript(e.waterfallContinue)})},t.prototype.extractVidazooBootstrapConfig=function(){var e=this.videoProviderConfig.reportedSubWidgetId?this.videoProviderConfig.reportedWidgetId+"-"+this.videoProviderConfig.reportedSubWidgetId:this.videoProviderConfig.reportedWidgetId;return{userId:this.videoProviderConfig.userId,playerId:this.videoProviderConfig.playerId,auto:!1,inApp:this.videoProviderConfig.inApp,el:"#"+this.player.getPlayerContainerId(),query:{param1:e,param2:this.videoProviderConfig.sourceId,campaign:this.videoProviderConfig.pubID,param3:this.videoProviderConfig.abTestVal,param4:this.videoProviderConfig.placementType,appName:this.videoProviderConfig.appName,appBundle:"android"===this.videoProviderConfig.platform?this.videoProviderConfig.packageName:this.videoProviderConfig.bundleId,appCategory:this.videoProviderConfig.appCategory,appStoreUrl:this.videoProviderConfig.appStoreUrl,deviceIfa:"ios"===this.videoProviderConfig.platform?this.videoProviderConfig.mobileUserId:void 0,deviceAid:"android"===this.videoProviderConfig.platform?this.videoProviderConfig.mobileUserId:void 0,schain:this.videoProviderConfig.sellerJsonChain},player:{autoPlay:!1,loop:!0===this.videoProviderConfig.instream,skin:"https://static.vidazoo.com/basev/skins/outbrain/outbrain.js",skinParams:{hideAdSkin:!1,hideContentSkin:!1,hideOnIma:!1,hideOnVpaid:!1,hideOnVast:!1,animateClose:!0,rounded:!0,close:!!this.videoProviderConfig.closeButton&&{style:this.videoProviderConfig.vidgetCustomControls&&this.videoProviderConfig.vidgetCustomControls.closeButton?{marginLeft:this.videoProviderConfig.vidgetCustomControls.closeButton.marginLeft,marginRight:this.videoProviderConfig.vidgetCustomControls.closeButton.marginRight,marginTop:this.videoProviderConfig.vidgetCustomControls.closeButton.marginTop,borderStyle:this.videoProviderConfig.vidgetCustomControls.closeButton.borderStyle,borderColor:this.videoProviderConfig.vidgetCustomControls.closeButton.borderColor,borderWidth:this.videoProviderConfig.vidgetCustomControls.closeButton.borderWidth,borderRadius:this.videoProviderConfig.vidgetCustomControls.closeButton.borderRadius,padding:this.videoProviderConfig.vidgetCustomControls.closeButton.padding,transform:this.videoProviderConfig.vidgetCustomControls.closeButton.transform}:{}},progress:!0,sound:!0,playback:!0,playbackButtons:this.videoProviderConfig.vidgetCustomControls&&this.videoProviderConfig.vidgetCustomControls.playbackButtons?{play:this.videoProviderConfig.vidgetCustomControls.playbackButtons.play,pause:this.videoProviderConfig.vidgetCustomControls.playbackButtons.pause}:void 0,soundButtons:this.videoProviderConfig.vidgetCustomControls&&this.videoProviderConfig.vidgetCustomControls.soundButtons?{on:this.videoProviderConfig.vidgetCustomControls.soundButtons.on,off:this.videoProviderConfig.vidgetCustomControls.soundButtons.off}:void 0,logo:this.videoProviderConfig.vidgetCustomControls&&this.videoProviderConfig.vidgetCustomControls.adIcon?{link:this.videoProviderConfig.vidgetCustomControls.adIcon.link,top:this.videoProviderConfig.vidgetCustomControls.adIcon.top,left:this.videoProviderConfig.vidgetCustomControls.adIcon.left,right:this.videoProviderConfig.vidgetCustomControls.adIcon.right,bottom:this.videoProviderConfig.vidgetCustomControls.adIcon.bottom,height:this.videoProviderConfig.vidgetCustomControls.adIcon.height,width:this.videoProviderConfig.vidgetCustomControls.adIcon.width,text:this.videoProviderConfig.vidgetCustomControls.adIcon.text,font:this.videoProviderConfig.vidgetCustomControls.adIcon.font,fontSize:this.videoProviderConfig.vidgetCustomControls.adIcon.fontSize,color:this.videoProviderConfig.vidgetCustomControls.adIcon.color,space:this.videoProviderConfig.vidgetCustomControls.adIcon.space,clickthrough:this.videoProviderConfig.vidgetCustomControls.adIcon.clickthrough,target:this.videoProviderConfig.vidgetCustomControls.adIcon.target}:void 0},tagSentSessionCap:parseInt(this.videoProviderConfig.maxRetries),saasDebug:this.videoProviderConfig.loglevel.level>=1},tpl:{width:"inherit",height:"inherit"},macros:{ob_page_url:encodeURI(this.videoProviderConfig.datasrc),docId:this.videoProviderConfig.docId,user_consent_str:this.videoProviderConfig.consentData,gdpr:this.videoProviderConfig.gdprInt}}},t.prototype.downloadVidazooScript=function(e){var i=this;if(this.audit({eventType:s.a.Verbose,description:"downloadVidazooScript()"},a.a.VERBOSE),d.vdz&&d.vdz.create)this.audit({eventType:s.a.Verbose,description:"downloadAniviewScript() = > Vidazoo script already loaded in page"},a.a.VERBOSE),this.onVidazooLoaded();else{this.audit({eventType:s.a.Verbose,description:"Loading Vidazoo provider"},a.a.VERBOSE);var r=document.createElement("script");r.src=t.playerProviderUrl,r.onload=this.onVidazooLoaded.bind(this),r.onerror=function(){i.videoProviderConfig.adBlockStatus?i.audit({eventType:s.a.Canceled,description:"Ad blocker enabled"},a.a.INFO):i.audit({eventType:s.a.Canceled,description:"Vidazoo provider failed to load"},a.a.INFO),e()},document.getElementsByTagName("head")[0].appendChild(r)}},t.prototype.audit=function(e,t){o.a.auditServiceEvent(e,this.videoProviderConfig,null,t)},t.prototype.onVidazooLoaded=function(){this.audit({eventType:s.a.Verbose,description:"onVidazooLoaded()"},a.a.VERBOSE);var e=this.extractVidazooBootstrapConfig(),t=this;d.vdz.create(e,function(e,i){e?t.player.closePlayerNoAd(t.waterfallContinue):(t.player.createPlayer(i),t.player.start(),t.player.resize(t.player.getPlayerWidth(),t.player.playerHeight-t.player.getPlayerDescriptionHeight()))})},t.prototype.updateExtraProviderSettings=function(){e.prototype.updateExtraProviderSettings.call(this),this.videoProviderConfig.maxRetries=this.videoProviderConfig.retries||1},t.playerProviderUrl="https://static.vidazoo.com/basev/vpt.js",t}(r.a);t.a=p},function(e,t,i){"use strict";var r=function(){function e(){}return e.get=function(e,t,i){var r=new XMLHttpRequest;r.open("GET",e),r.onload=function(){200===r.status?void 0!==t&&t(r.responseText):void 0!==i&&i("Request failed.  Returned status of "+r.status)},r.send()},e.post=function(e,t,i,r){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/json"),n.onload=function(){200===n.status?void 0!==i&&i(n.responseText):void 0!==r&&r("Request failed.  Returned status of "+n.status)},n.send(JSON.stringify(t))},e.jsonp=function(e,t){var i=document.createElement("script");i.setAttribute("src",e+"&callback="+t),document.getElementsByTagName("head")[0].appendChild(i)},e}();t.a=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(13),n=i(15),o=(i.n(n),i(0)),a=i(5),s=i(11),l=i(9),d=i(14),p=i(2),u=i(1),c=i(8),h=i(3),g=i(10),y=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},v=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?n(e.value):new i(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function i(e){return function(t){return r([e,t])}}function r(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,o=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(a=l.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,o,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},m=function(){function e(){this.vidgetRuns={},this.videoPlayingCheckIntervalTime=5e3,this.vidgetLoadTime=Date.now(),this.lastEventTime=Date.now(),this.waterfallTasksExcludeParams={providers:["teads"],stickyPlayers:["slider","slideralwaysright"]}}return e.prototype.init=function(e,t){return v(this,void 0,void 0,function(){var t,i,r,n=this;return f(this,function(l){return t=o.a.getVideoProviderWidgetSettings(e),i=a.a.guid(),r={currentReload:1,sessionId:i,widgetSettings:t,configuredReloadCount:t.configuredReloadCount?t.configuredReloadCount:1,configuredReloadTime:t.configuredReloadTime?t.configuredReloadTime:4e3,videoPlayingCheckIntervalId:null,parallelPlay:t.parallelPlay,wasPendingAtCurrentReload:!1,canReload:!0,initialDelay:t.initialDelay?t.initialDelay:5e3,loglevel:{level:t.logLevel in p.a?p.a[t.logLevel]:p.a.INFO,consoleLog:t.consoleLog},AniviewObject:null,test:t.test},r.widgetSettings.loglevel={level:t.logLevel in p.a?p.a[t.logLevel]:p.a.INFO,consoleLog:t.consoleLog},o.a.setNewAudit(new s.a(r.sessionId,"","",this.vidgetLoadTime,this.lastEventTime)),r.widgetSettings=y({},r.widgetSettings,o.a.getExtraProvidersSettings(r)),d.a.getDocFeatures(t.docId,t.pubID).then(function(e){return t.docFeatures=e,n.auditVidgetEvent(r,u.a.Verbose,"getDocFeatures()",p.a.VERBOSE),t.docFeatures&&t.docFeatures.externalPubId&&(r.widgetSettings.sellerJsonChain.nodes[0].sid=t.docFeatures.externalPubId),n.vidgetRuns[t.containerID]?void n.auditVidgetEvent(r,u.a.Canceled,"Same widget container already exists",p.a.DEBUG):n.canVideoBeProvidedOnWidget(r.widgetSettings)?(n.vidgetRuns[t.containerID]=r,n.auditVidgetEvent(r,u.a.Loaded,"VIDGET LOADED",p.a.DEBUG),void n.startVidgetIteration(r)):void n.auditVidgetEvent(r,u.a.Canceled,"Bad widget structure for current player location",p.a.DEBUG)}).catch(function(e){return n.auditVidgetEvent(r,u.a.Verbose,"getDocFeatures => ￿Not available",p.a.VERBOSE),n.vidgetRuns[t.containerID]?void n.auditVidgetEvent(r,u.a.Canceled,"Same widget container already exists",p.a.DEBUG):n.canVideoBeProvidedOnWidget(r.widgetSettings)?(n.vidgetRuns[t.containerID]=r,n.auditVidgetEvent(r,u.a.Loaded,"VIDGET LOADED",p.a.DEBUG),void n.startVidgetIteration(r)):void n.auditVidgetEvent(r,u.a.Canceled,"Bad widget structure for current player location",p.a.DEBUG)}),[2]})})},e.prototype.startVidgetIteration=function(e){return v(this,void 0,void 0,function(){var t,i;return f(this,function(r){switch(r.label){case 0:return this.auditVidgetEvent(e,u.a.Verbose,"startVidgetIteration()",p.a.VERBOSE),e.wasPendingAtCurrentReload=!1,e.canReload&&e.currentReload<=e.configuredReloadCount?[4,a.a.isVideoPlayingOnPageAsync(e.parallelPlay,e.initialDelay)]:[3,2];case 1:if((t=r.sent()||l.a.isRunning())&&"allow"!==e.parallelPlay){if(i=l.a.isRunning()?"Another Vidget is running":"Other video is playing on page","strict"==e.parallelPlay)return this.auditVidgetEvent(e,u.a.Canceled,"startVidgetIteration => "+i,p.a.DEBUG),[2];this.checkAtIntervalsIfVidgetCanBePlayed(e,i)}else this.runVidget(e);return[3,3];case 2:case 3:return[2]}})})},e.prototype.checkAtIntervalsIfVidgetCanBePlayed=function(e,t){var i=this;void 0===t&&(t=""),e.wasPendingAtCurrentReload=!0,this.auditVidgetEvent(e,u.a.Pending,"checkAtIntervalsIfVidgetCanBePlayed() => "+t,p.a.DEBUG),this.setIntervalTillNoVideoIsPlayed(e).then(function(){i.runVidget(e)}).catch(function(){i.auditVidgetEvent(e,u.a.IterationCanceled,"checkAtIntervalsIfVidgetCanBePlayed() => "+t,p.a.DEBUG),i.onVidgetIterationFinished(e)})},e.prototype.runVidget=function(e){return v(this,void 0,void 0,function(){var t,i;return f(this,function(r){switch(r.label){case 0:return this.auditVidgetEvent(e,u.a.Verbose,"runVidget()",p.a.VERBOSE),[4,this.doubleCheckIsVideoPlaying(e.widgetSettings)];case 1:if(t=r.sent()||"allow"!==e.parallelPlay&&l.a.isRunning()){if(i=l.a.isRunning()?"Another Vidget is running":"Other video is playing on page","strict"==e.parallelPlay)return this.auditVidgetEvent(e,u.a.Canceled,"runVidget => "+i,p.a.DEBUG),[2];e.wasPendingAtCurrentReload?(e.debug&&this.auditVidgetEvent(e,u.a.IterationCanceled,"runVidget => "+i,p.a.DEBUG),this.onVidgetIterationFinished(e)):this.checkAtIntervalsIfVidgetCanBePlayed(e,i)}else l.a.setRunning(e.widgetSettings.widgetIdx),this.handleWaterfall(e);return[2]}})})},e.prototype.handleWaterfall=function(e){var t=this;this.auditVidgetEvent(e,u.a.Verbose,"handleWaterfall()",p.a.VERBOSE);try{for(var i=e.widgetSettings.providersWaterfall,r=[],n=0,o=0,s=i;o<s.length;o++){var d=s[o],c=this.getProviderByName(d,e);void 0!=c&&(this.waterfallTasksExclude(d,e.widgetSettings)||this.waterfallTasksExcludeByPlayMode(c.playMode,e.widgetSettings)||(n++,r.push(this.provide(c,e,n))))}a.a.waterfall(r,this).catch(function(i){i&&t.endIterations(e)}).finally(function(){l.a.isRunning()&&l.a.setNotRunning(e.widgetSettings.widgetIdx),t.onVidgetIterationFinished(e)})}catch(t){l.a.setNotRunning(e.widgetSettings.widgetIdx)}},e.prototype.getProviderByName=function(e,t){return t.widgetSettings.widgetProviders.some(function(t){return t.name==e})?t.widgetSettings.widgetProviders.find(function(t){return t.name==e}):g.a.find(function(t){return t.name==e})},e.prototype.waterfallTasksExclude=function(e,t){var i=this.waterfallTasksExcludeParams;return i.providers.includes(e.toLowerCase())&&i.stickyPlayers.includes(t.stickyPlayer.toLowerCase())},e.prototype.waterfallTasksExcludeByPlayMode=function(e,t){return!this.waterfallTasksExcludeParams.stickyPlayers.includes(t.stickyPlayer.toLowerCase())&&(e==h.a.View&&!a.a.elementInViewport(o.a.getWidgetElement(t.containerID),0))},e.prototype.endIterations=function(e){this.auditVidgetEvent(e,u.a.Verbose,"endIterations()",p.a.VERBOSE),e.canReload=!1},e.prototype.onVidgetIterationFinished=function(e){var t=this;this.auditVidgetEvent(e,u.a.Verbose,"onVidgetIterationFinished()",p.a.VERBOSE),e.currentReload++,window.setTimeout(function(){o.a.reset(e.widgetSettings),t.startVidgetIteration(e)},e.configuredReloadTime)},e.prototype.provide=function(e,t,i){var r=this;return function(){return r.createProvider(e,t,i).provide()}},e.prototype.createProvider=function(e,t,i){switch(e.name){case c.a.Aniview:return"pause"!==t.test?new r.a(t.widgetSettings,t.sessionId,i,t.currentReload,e):(1===t.currentReload?t.AniviewObject=new r.a(t.widgetSettings,t.sessionId,i,t.currentReload,e):t.AniviewObject.updateCurrentReload(t.currentReload),t.AniviewObject);case c.a.Vidazoo:return new r.b(t.widgetSettings,t.sessionId,i,t.currentReload,e);case c.a.OPA:return new r.c(t.widgetSettings,t.sessionId,i,t.currentReload,e);case c.a.Teads:return new r.d(t.widgetSettings,t.sessionId,i,t.currentReload,e);default:return this.auditVidgetEvent(t,u.a.Loaded,"Wrong providerName. Play default provider",p.a.DEBUG),new r.a(t.widgetSettings,t.sessionId,i,t.currentReload,e)}},e.prototype.setIntervalTillNoVideoIsPlayed=function(e){var t=this,i=24;return new Promise(function(r,n){e.videoPlayingCheckIntervalId=setInterval(function(){i--,a.a.isVideoPlayingOnPageSync(e.widgetSettings.parallelPlay)||(clearInterval(e.videoPlayingCheckIntervalId),r(!0)),0==i&&(clearInterval(e.videoPlayingCheckIntervalId),n(!1))},t.videoPlayingCheckIntervalTime)})},e.prototype.doubleCheckIsVideoPlaying=function(e){return v(this,void 0,void 0,function(){return f(this,function(t){return"allow"!==e.parallelPlay?[2,a.a.delay(1e3).then(function(){return Promise.resolve(a.a.isVideoPlayingOnPageSync(e.parallelPlay))})]:[2,Promise.resolve(!1)]})})},e.prototype.canVideoBeProvidedOnWidget=function(e){return o.a.canVideoBePorvided(e)},e.prototype.auditVidgetEvent=function(e,t,i,r){if(r<=e.loglevel.level){var n=new s.a(e.sessionId,e.widgetSettings,null,this.vidgetLoadTime,this.lastEventTime);n.body={eventType:t,currentReload:e.currentReload},i&&(n.body.description=i),n.send(),this.lastEventTime=Date.now(),e.loglevel.consoleLog&&console.log("Debug: "+i)}},e}();a.a.addPolyfills(),window.OB_VIDGET=window.OB_VIDGET||new m,o.a.makeHandshake("VIDGET")},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i}]);