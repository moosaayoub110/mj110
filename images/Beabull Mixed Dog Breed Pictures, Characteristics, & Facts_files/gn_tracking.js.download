var gn_tracking={config:{google:'',quantcast:'',comscore:''},flags:{loaded:false},init:function(config){var that=this;if(typeof this.flags.initialised!='undefined'&&this.flags.initialised){return false;}else{this.flags.initialised=true;}
if(config)this.config=config;for(var prop in this.config){if(!this.is_empty(this.config[prop])&&typeof this[prop]=='function'){this[prop]();}}},google:function(){var that=this,cfg=this.config;this.flags.google=false;if(typeof(cfg.google)=='string'){var ids=cfg.google.replace(/\s/g,'').split(',');cfg.google=ids;}else if(typeof cfg.google=='object'){cfg.google=[cfg.urchin,cfg.ga];}
if(cfg.google.length){if(!window._gaq)window._gaq=[];for(var i=0;i<cfg.google.length;i++){_gaq.push(['_setAccount',cfg.google[i]]);_gaq.push(['_trackPageview']);}
this.add_script(('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js',function(){that.flags.google=true;});}},quantcast:function(){var that=this;this.add_script("http://edge.quantserve.com/quant.js",function(){if(typeof _qacct!='undefined'&&!that.is_empty(_qacct))return false;if(typeof _qoptions!='undefined'&&!that.is_empty(_qoptions))return false;var ids=that.config.quantcast.split(',');for(var i=0;i<ids.length;i++){_qoptions={qacct:ids[i]};quantserve();}
that.flags.quantcast=true;});},comscore:function(){var that=this;this.add_script((document.location.protocol=='https:'?'https://sb':'http://b')+".scorecardresearch.com/beacon.js",function(){COMSCORE.beacon(that.config.comscore);that.flags.comscore=true;});},add_script:function(url,callback){var that=this,script=document.createElement("script"),head=document.getElementsByTagName('head')[0];script.src=url;script.onload=script.onreadystatechange=function(){if(!this.readyState||this.readyState=="loaded"||this.readyState=="complete"){if(typeof callback=='function'){callback();}
script.onload=script.onreadystatechange=null;}};head.appendChild(script);},is_empty:function(value){switch(typeof(value)){case 'object':for(var prop in value){if(value.hasOwnProperty(prop))return false;}
return true;break;case 'string':case 'array':if(value.length>0){return false;}else{return true;}
break;default:return false;break;}}};